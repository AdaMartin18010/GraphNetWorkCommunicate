# AI基础设施应用模式清单 / AI Infrastructure Application Patterns

## 📚 概述

覆盖训练/推理流水线、特征平台、数据管线可靠性与监控，提供建模选择、决策树、案例与工具栈。

## 🎯 核心问题与建模选择

- 计算图/调度：Petri网建模资源占用与依赖；活性/有界性检测阻塞。
- 数据管线可靠性：动态图跟踪依赖与重试；谱/中心性找瓶颈。
- 模型监控与漂移：拓扑/TDA 捕获分布形状变化；持久同调检测异常模式。
- 资源与成本：状态方程+S不变量估计资源守恒；动态图监控吞吐/延迟。

## 🔀 决策树（简版）

1) 需保证无死锁/阻塞？→ Petri网（工作流网+抑制弧）。
2) 规模/实时性要求高？→ 动态图流式监控 + 增量算法。
3) 关注数据分布/漂移？→ TDA 持久同调/Mapper；或谱变化。
4) 需要可执行验证？→ TLA+/CPN Tools/Promela 生成可达/活性报告。

## 🧩 典型案例

- 训练流水线：数据加载→预处理→分布式训练→评估→发布；Petri网检查活性与资源上界。
- 推理服务：多模型A/B；动态图监控调用链；拓扑检测异常流/循环。
- 特征平台/特征存储：数据新鲜度与一致性；Petri网状态方程+重试策略。
- 监控与告警：拓扑/持久同调识别异常形状（漂移、模式突变）。

## 🛠 工具栈

- Petri网/形式化：CPN Tools, TLA+, Spin。
- 动态图：Flink/Kafka Streams、PyG/DGL、NetworkX/igraph；Neo4j 查询依赖。
- 拓扑/TDA：giotto-tda、GUDHI、Ripser、KeplerMapper。

## 📦 产出物

- 决策树：模型/算法/工具选择。
- 校验报告：活性/有界性/资源守恒；调用链瓶颈与异常。
- 监控面板：吞吐/延迟/漂移的谱或持久条带视图。
- 示例模型：训练/推理/数据管线的Petri网与Promela片段。

## ✅ 后续补充

- 决策树（Mermaid）与两三个可运行示例（数据管线、训练、推理）。
- 漂移检测案例：TDA + 持久图/Mapper。
