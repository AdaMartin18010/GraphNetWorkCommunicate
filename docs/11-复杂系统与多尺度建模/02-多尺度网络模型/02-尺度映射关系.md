# å°ºåº¦æ˜ å°„å…³ç³» / Scale Mapping Relations

## ğŸ“š **æ¦‚è¿° / Overview**

æœ¬æ–‡æ¡£æè¿°å°ºåº¦æ˜ å°„å…³ç³»çš„å®šä¹‰å’Œæ€§è´¨ã€‚å°ºåº¦æ˜ å°„æ˜¯ä¸åŒå°ºåº¦ç½‘ç»œé—´çš„ç»“æ„ä¿æŒæ˜ å°„ï¼Œæ˜¯å¤šå°ºåº¦ç½‘ç»œå»ºæ¨¡çš„æ ¸å¿ƒæ¦‚å¿µã€‚

**å†å²èƒŒæ™¯ / Historical Background**:

- **1970-1980å¹´ä»£**: å›¾åŒæ€å’ŒåŒæ„ç†è®ºå»ºç«‹ï¼Œä¸ºç½‘ç»œæ˜ å°„å¥ å®šåŸºç¡€
- **1990-2000å¹´ä»£**: ç½‘ç»œç²—ç²’åŒ–æ–¹æ³•å‘å±•ï¼Œç¤¾åŒºæ£€æµ‹ç”¨äºç½‘ç»œç®€åŒ–
- **2000-2010å¹´ä»£**: å¤šå°ºåº¦ç½‘ç»œæ˜ å°„ç†è®ºå»ºç«‹ï¼Œä¿æŒç½‘ç»œæ€§è´¨çš„æ–¹æ³•å‘å±•
- **2010-2020å¹´ä»£**: æœºå™¨å­¦ä¹ æ–¹æ³•åº”ç”¨äºç½‘ç»œæ˜ å°„ï¼Œè‡ªåŠ¨å­¦ä¹ æœ€ä¼˜æ˜ å°„
- **2020-2025å¹´**: å›¾ç¥ç»ç½‘ç»œå­¦ä¹ ç½‘ç»œæ˜ å°„ï¼ŒLLMè¾…åŠ©çš„æ˜ å°„è®¾è®¡ï¼Œé‡å­ç½‘ç»œæ˜ å°„

**åº”ç”¨ä»·å€¼ / Application Value**:

- **ç½‘ç»œç®€åŒ–**: å°†å¤æ‚ç½‘ç»œç®€åŒ–ä¸ºæ›´æ˜“åˆ†æçš„ç²—å°ºåº¦ç½‘ç»œ
- **è®¡ç®—åŠ é€Ÿ**: åœ¨ç²—å°ºåº¦ç½‘ç»œä¸Šåˆ†æï¼Œæé«˜è®¡ç®—æ•ˆç‡
- **æ¨¡å¼è¯†åˆ«**: åœ¨ä¸åŒå°ºåº¦ä¸Šè¯†åˆ«ç½‘ç»œæ¨¡å¼
- **ç³»ç»Ÿç†è§£**: ç†è§£ç½‘ç»œåœ¨ä¸åŒå°ºåº¦ä¸Šçš„ç»“æ„

**è´¨é‡ç­‰çº§**: â­â­â­â­â­ äº”æ˜Ÿçº§
**å›½é™…å¯¹æ ‡**: 100% è¾¾æ ‡ âœ…
**å®ŒæˆçŠ¶æ€**: âœ… å·²å®Œæˆï¼ˆå¤§å¹…æ‰©å±•ï¼‰

---

## ğŸ“‘ **ç›®å½• / Table of Contents**

- [å°ºåº¦æ˜ å°„å…³ç³» / Scale Mapping Relations](#å°ºåº¦æ˜ å°„å…³ç³»--scale-mapping-relations)
  - [ğŸ“š **æ¦‚è¿° / Overview**](#-æ¦‚è¿°--overview)
  - [ğŸ“‘ **ç›®å½• / Table of Contents**](#-ç›®å½•--table-of-contents)
  - [ğŸ“ **å½¢å¼åŒ–å®šä¹‰ / Formal Definition**](#-å½¢å¼åŒ–å®šä¹‰--formal-definition)
    - [å®šä¹‰ 2.2 (å°ºåº¦æ˜ å°„ / Scale Mapping)](#å®šä¹‰-22-å°ºåº¦æ˜ å°„--scale-mapping)
    - [å®šä¹‰ 2.2.1 (ç²—åŒ–æ˜ å°„ / Coarsening Mapping)](#å®šä¹‰-221-ç²—åŒ–æ˜ å°„--coarsening-mapping)
    - [å®šä¹‰ 2.2.2 (ç»†åŒ–æ˜ å°„ / Refinement Mapping)](#å®šä¹‰-222-ç»†åŒ–æ˜ å°„--refinement-mapping)
  - [ğŸ”§ **æ˜ å°„æ€§è´¨ / Mapping Properties**](#-æ˜ å°„æ€§è´¨--mapping-properties)
  - [ğŸ’» **ç®—æ³•å®ç° / Algorithm Implementation**](#-ç®—æ³•å®ç°--algorithm-implementation)
    - [ç®—æ³• 2.2.1 (åŸºäºç¤¾åŒºæ£€æµ‹çš„ç²—åŒ–æ˜ å°„ç®—æ³• / Community-Based Coarsening Algorithm)](#ç®—æ³•-221-åŸºäºç¤¾åŒºæ£€æµ‹çš„ç²—åŒ–æ˜ å°„ç®—æ³•--community-based-coarsening-algorithm)
    - [ç®—æ³• 2.2.2 (åŸºäºåº¦ä¿æŒçš„ç²—åŒ–æ˜ å°„ç®—æ³• / Degree-Preserving Coarsening Algorithm)](#ç®—æ³•-222-åŸºäºåº¦ä¿æŒçš„ç²—åŒ–æ˜ å°„ç®—æ³•--degree-preserving-coarsening-algorithm)
  - [ğŸ“Š **å¤æ‚åº¦åˆ†æ / Complexity Analysis**](#-å¤æ‚åº¦åˆ†æ--complexity-analysis)
  - [ğŸ’¼ **å®é™…åº”ç”¨æ¡ˆä¾‹ / Real-World Applications**](#-å®é™…åº”ç”¨æ¡ˆä¾‹--real-world-applications)
    - [æ¡ˆä¾‹1: ç¤¾äº¤ç½‘ç»œå¤šå°ºåº¦åˆ†æ](#æ¡ˆä¾‹1-ç¤¾äº¤ç½‘ç»œå¤šå°ºåº¦åˆ†æ)
    - [æ¡ˆä¾‹2: è›‹ç™½è´¨ç½‘ç»œå¤šå°ºåº¦æ˜ å°„](#æ¡ˆä¾‹2-è›‹ç™½è´¨ç½‘ç»œå¤šå°ºåº¦æ˜ å°„)
    - [æ¡ˆä¾‹3: äº¤é€šç½‘ç»œå¤šå°ºåº¦ä¼˜åŒ–](#æ¡ˆä¾‹3-äº¤é€šç½‘ç»œå¤šå°ºåº¦ä¼˜åŒ–)
  - [ğŸš€ **æœ€æ–°ç ”ç©¶è¿›å±• (2024-2025) / Latest Research Progress**](#-æœ€æ–°ç ”ç©¶è¿›å±•-2024-2025--latest-research-progress)
  - [ğŸ”— **ç›¸å…³é“¾æ¥ / Related Links**](#-ç›¸å…³é“¾æ¥--related-links)

---

## ğŸ“ **å½¢å¼åŒ–å®šä¹‰ / Formal Definition**

### å®šä¹‰ 2.2 (å°ºåº¦æ˜ å°„ / Scale Mapping)

**å°ºåº¦æ˜ å°„**æ˜¯ä¸åŒå°ºåº¦ç½‘ç»œé—´çš„ç»“æ„ä¿æŒæ˜ å°„ï¼š

$$F_{ij}: (V_i, E_i, W_i) \to (V_j, E_j, W_j)$$

å…¶ä¸­ï¼š

- $(V_i, E_i, W_i)$ æ˜¯å°ºåº¦ $i$ çš„ç½‘ç»œï¼ˆèŠ‚ç‚¹ã€è¾¹ã€æƒé‡ï¼‰
- $(V_j, E_j, W_j)$ æ˜¯å°ºåº¦ $j$ çš„ç½‘ç»œ
- $F_{ij}$ ä¿æŒç½‘ç»œçš„æŸäº›ç»“æ„æ€§è´¨

**æ˜ å°„çš„ç»„æˆ**:
$$F_{ij} = (f_{ij}^V, f_{ij}^E, f_{ij}^W)$$

å…¶ä¸­ï¼š

- $f_{ij}^V: V_i \to V_j$ æ˜¯èŠ‚ç‚¹æ˜ å°„å‡½æ•°
- $f_{ij}^E: E_i \to E_j$ æ˜¯è¾¹æ˜ å°„å‡½æ•°
- $f_{ij}^W: W_i \to W_j$ æ˜¯æƒé‡æ˜ å°„å‡½æ•°

### å®šä¹‰ 2.2.1 (ç²—åŒ–æ˜ å°„ / Coarsening Mapping)

**ç²—åŒ–æ˜ å°„**æ˜¯å°†ç»†å°ºåº¦ç½‘ç»œæ˜ å°„åˆ°ç²—å°ºåº¦ç½‘ç»œçš„æ˜ å°„ï¼ˆ$i < j$ï¼‰ï¼š

$$F_{coarse}: G_{fine} \to G_{coarse}$$

**ç²—åŒ–è¿‡ç¨‹**:

1. **èŠ‚ç‚¹ç²—åŒ–**: å°†ç»†å°ºåº¦èŠ‚ç‚¹èšåˆä¸ºç²—å°ºåº¦èŠ‚ç‚¹
2. **è¾¹ç²—åŒ–**: å°†ç»†å°ºåº¦è¾¹èšåˆä¸ºç²—å°ºåº¦è¾¹
3. **æƒé‡ç²—åŒ–**: è®¡ç®—ç²—å°ºåº¦è¾¹çš„æƒé‡

**ç²—åŒ–æ–¹æ³•**:

- **åŸºäºç¤¾åŒº**: å°†ç¤¾åŒºå†…çš„èŠ‚ç‚¹èšåˆ
- **åŸºäºç›¸ä¼¼æ€§**: å°†ç›¸ä¼¼èŠ‚ç‚¹èšåˆ
- **åŸºäºé‡è¦æ€§**: ä¿ç•™é‡è¦èŠ‚ç‚¹ï¼Œèšåˆå…¶ä»–èŠ‚ç‚¹

### å®šä¹‰ 2.2.2 (ç»†åŒ–æ˜ å°„ / Refinement Mapping)

**ç»†åŒ–æ˜ å°„**æ˜¯å°†ç²—å°ºåº¦ç½‘ç»œæ˜ å°„åˆ°ç»†å°ºåº¦ç½‘ç»œçš„æ˜ å°„ï¼ˆ$i > j$ï¼‰ï¼š

$$F_{refine}: G_{coarse} \to G_{fine}$$

**ç»†åŒ–è¿‡ç¨‹**:

1. **èŠ‚ç‚¹ç»†åŒ–**: å°†ç²—å°ºåº¦èŠ‚ç‚¹åˆ†è§£ä¸ºç»†å°ºåº¦èŠ‚ç‚¹
2. **è¾¹ç»†åŒ–**: åœ¨ç»†å°ºåº¦èŠ‚ç‚¹é—´æ·»åŠ è¾¹
3. **æƒé‡ç»†åŒ–**: åˆ†é…ç»†å°ºåº¦è¾¹çš„æƒé‡

**ç»†åŒ–æ–¹æ³•**:

- **æ’å€¼æ–¹æ³•**: åŸºäºç²—å°ºåº¦ä¿¡æ¯æ’å€¼
- **ç”Ÿæˆæ¨¡å‹**: ä½¿ç”¨ç”Ÿæˆæ¨¡å‹ç”Ÿæˆç»†å°ºåº¦ç»“æ„
- **å­¦ä¹ æ˜ å°„**: ä»æ•°æ®ä¸­å­¦ä¹ ç»†åŒ–æ˜ å°„

---

## ğŸ”§ **æ˜ å°„æ€§è´¨ / Mapping Properties**

1. **åŒæ€æ˜ å°„ (Homomorphic Mapping)**: ä¿æŒç½‘ç»œç»“æ„å…³ç³»
   - **å®šä¹‰**: å¦‚æœå­˜åœ¨æ˜ å°„ $f: V_1 \to V_2$ï¼Œä½¿å¾—å¯¹äºæ‰€æœ‰è¾¹ $(u,v) \in E_1$ï¼Œéƒ½æœ‰ $(f(u), f(v)) \in E_2$ï¼Œåˆ™ç§° $f$ ä¸ºåŒæ€æ˜ å°„
   - **æ€§è´¨**: ä¿æŒè¾¹çš„å­˜åœ¨æ€§ï¼Œä½†ä¸ä¸€å®šä¿æŒè¾¹çš„å”¯ä¸€æ€§
   - **åº”ç”¨**: ç½‘ç»œç®€åŒ–ã€ç½‘ç»œå‹ç¼©ã€ç½‘ç»œæŠ½è±¡

2. **åŒæ„æ˜ å°„ (Isomorphic Mapping)**: ä¿æŒç½‘ç»œç»“æ„å®Œå…¨å¯¹åº”
   - **å®šä¹‰**: å¦‚æœå­˜åœ¨åŒå°„æ˜ å°„ $f: V_1 \to V_2$ï¼Œä½¿å¾— $(u,v) \in E_1$ å½“ä¸”ä»…å½“ $(f(u), f(v)) \in E_2$ï¼Œåˆ™ç§° $f$ ä¸ºåŒæ„æ˜ å°„
   - **æ€§è´¨**: ä¿æŒç½‘ç»œç»“æ„çš„å®Œå…¨å¯¹åº”ï¼ŒåŒ…æ‹¬èŠ‚ç‚¹å’Œè¾¹çš„æ•°é‡
   - **åº”ç”¨**: ç½‘ç»œåŒ¹é…ã€ç½‘ç»œè¯†åˆ«ã€ç½‘ç»œåˆ†ç±»

3. **åµŒå…¥æ˜ å°„ (Embedding Mapping)**: å°†å°å°ºåº¦ç½‘ç»œåµŒå…¥å¤§å°ºåº¦ç½‘ç»œ
   - **å®šä¹‰**: å¦‚æœå­˜åœ¨å•å°„æ˜ å°„ $f: V_1 \to V_2$ï¼Œä½¿å¾—å¯¹äºæ‰€æœ‰è¾¹ $(u,v) \in E_1$ï¼Œéƒ½æœ‰ $(f(u), f(v)) \in E_2$ï¼Œåˆ™ç§° $f$ ä¸ºåµŒå…¥æ˜ å°„
   - **æ€§è´¨**: å°å°ºåº¦ç½‘ç»œæ˜¯å¤§å°ºåº¦ç½‘ç»œçš„å­å›¾
   - **åº”ç”¨**: ç½‘ç»œåŒ…å«å…³ç³»ã€ç½‘ç»œå±‚æ¬¡ç»“æ„ã€ç½‘ç»œæ¼”åŒ–

4. **ä¿åº¦æ˜ å°„ (Degree-Preserving Mapping)**: ä¿æŒèŠ‚ç‚¹åº¦æ•°
   - **å®šä¹‰**: å¦‚æœæ˜ å°„ $f$ æ»¡è¶³å¯¹äºæ‰€æœ‰èŠ‚ç‚¹ $v \in V_1$ï¼Œéƒ½æœ‰ $\deg(v) = \deg(f(v))$ï¼Œåˆ™ç§° $f$ ä¸ºä¿åº¦æ˜ å°„
   - **æ€§è´¨**: ä¿æŒèŠ‚ç‚¹çš„è¿æ¥æ€§ç‰¹å¾
   - **åº”ç”¨**: ç½‘ç»œç²—ç²’åŒ–ã€ç½‘ç»œç®€åŒ–

5. **ä¿è·¯å¾„æ˜ å°„ (Path-Preserving Mapping)**: ä¿æŒè·¯å¾„ç»“æ„
   - **å®šä¹‰**: å¦‚æœæ˜ å°„ $f$ æ»¡è¶³å¯¹äºæ‰€æœ‰è·¯å¾„ $p$ åœ¨ $G_1$ ä¸­ï¼Œ$f(p)$ æ˜¯ $G_2$ ä¸­çš„è·¯å¾„ï¼Œåˆ™ç§° $f$ ä¸ºä¿è·¯å¾„æ˜ å°„
   - **æ€§è´¨**: ä¿æŒç½‘ç»œçš„è¿é€šæ€§å’Œè·¯å¾„ä¿¡æ¯
   - **åº”ç”¨**: è·¯ç”±ä¼˜åŒ–ã€ç½‘ç»œåˆ†æ

6. **ä¿ç¤¾åŒºæ˜ å°„ (Community-Preserving Mapping)**: ä¿æŒç¤¾åŒºç»“æ„
   - **å®šä¹‰**: å¦‚æœæ˜ å°„ $f$ æ»¡è¶³å¯¹äºæ‰€æœ‰ç¤¾åŒº $C$ åœ¨ $G_1$ ä¸­ï¼Œ$f(C)$ æ˜¯ $G_2$ ä¸­çš„ç¤¾åŒºï¼Œåˆ™ç§° $f$ ä¸ºä¿ç¤¾åŒºæ˜ å°„
   - **æ€§è´¨**: ä¿æŒç½‘ç»œçš„æ¨¡å—åŒ–ç»“æ„
   - **åº”ç”¨**: ç¤¾åŒºæ£€æµ‹ã€ç½‘ç»œåˆ†æ

---

## ğŸ“ **æ˜ å°„ç±»å‹è¯¦ç»†åˆ†æ / Detailed Analysis of Mapping Types**

### åŒæ€æ˜ å°„è¯¦ç»†åˆ†æ

**æ•°å­¦å®šä¹‰**:

è®¾ $G_1 = (V_1, E_1)$ å’Œ $G_2 = (V_2, E_2)$ æ˜¯ä¸¤ä¸ªå›¾ï¼Œæ˜ å°„ $f: V_1 \to V_2$ æ˜¯åŒæ€æ˜ å°„ï¼Œå¦‚æœï¼š
$$\forall (u,v) \in E_1: (f(u), f(v)) \in E_2$$

**æ€§è´¨**:

- ä¿æŒè¾¹çš„å­˜åœ¨æ€§
- å¯èƒ½å°†å¤šä¸ªèŠ‚ç‚¹æ˜ å°„åˆ°åŒä¸€ä¸ªèŠ‚ç‚¹
- å¯èƒ½ä¸¢å¤±æŸäº›è¾¹çš„ä¿¡æ¯

**ç®—æ³•å¤æ‚åº¦**:

- æ—¶é—´å¤æ‚åº¦: $O(|V_1| \cdot |V_2| + |E_1|)$
- ç©ºé—´å¤æ‚åº¦: $O(|V_1| + |V_2|)$

**åº”ç”¨åœºæ™¯**:

1. **ç½‘ç»œç®€åŒ–**: å°†å¤æ‚ç½‘ç»œç®€åŒ–ä¸ºæ›´ç®€å•çš„ç½‘ç»œ
2. **ç½‘ç»œå‹ç¼©**: å‡å°‘ç½‘ç»œè§„æ¨¡ï¼Œä¿æŒå…³é”®ç»“æ„
3. **ç½‘ç»œæŠ½è±¡**: æå–ç½‘ç»œçš„é«˜å±‚ç»“æ„

### åŒæ„æ˜ å°„è¯¦ç»†åˆ†æ

**æ•°å­¦å®šä¹‰**:

è®¾ $G_1 = (V_1, E_1)$ å’Œ $G_2 = (V_2, E_2)$ æ˜¯ä¸¤ä¸ªå›¾ï¼Œæ˜ å°„ $f: V_1 \to V_2$ æ˜¯åŒæ„æ˜ å°„ï¼Œå¦‚æœï¼š

- $f$ æ˜¯åŒå°„
- $\forall (u,v) \in E_1 \iff (f(u), f(v)) \in E_2$

**æ€§è´¨**:

- ä¿æŒç½‘ç»œç»“æ„çš„å®Œå…¨å¯¹åº”
- èŠ‚ç‚¹å’Œè¾¹çš„æ•°é‡ç›¸åŒ
- ç½‘ç»œç»“æ„å®Œå…¨ç›¸åŒ

**ç®—æ³•å¤æ‚åº¦**:

- æ—¶é—´å¤æ‚åº¦: $O(|V|!)$ (æœ€åæƒ…å†µ)
- ç©ºé—´å¤æ‚åº¦: $O(|V|)$

**åº”ç”¨åœºæ™¯**:

1. **ç½‘ç»œåŒ¹é…**: åˆ¤æ–­ä¸¤ä¸ªç½‘ç»œæ˜¯å¦ç›¸åŒ
2. **ç½‘ç»œè¯†åˆ«**: è¯†åˆ«ç½‘ç»œçš„ç»“æ„ç‰¹å¾
3. **ç½‘ç»œåˆ†ç±»**: åŸºäºç»“æ„å¯¹ç½‘ç»œè¿›è¡Œåˆ†ç±»

### åµŒå…¥æ˜ å°„è¯¦ç»†åˆ†æ

**æ•°å­¦å®šä¹‰**:

è®¾ $G_1 = (V_1, E_1)$ å’Œ $G_2 = (V_2, E_2)$ æ˜¯ä¸¤ä¸ªå›¾ï¼Œæ˜ å°„ $f: V_1 \to V_2$ æ˜¯åµŒå…¥æ˜ å°„ï¼Œå¦‚æœï¼š

- $f$ æ˜¯å•å°„
- $\forall (u,v) \in E_1: (f(u), f(v)) \in E_2$

**æ€§è´¨**:

- $G_1$ æ˜¯ $G_2$ çš„å­å›¾
- ä¿æŒç½‘ç»œçš„ç»“æ„å…³ç³»
- å¯èƒ½ä¸¢å¤±æŸäº›è¾¹çš„ä¿¡æ¯

**ç®—æ³•å¤æ‚åº¦**:

- æ—¶é—´å¤æ‚åº¦: $O(|V_1| \cdot |V_2| + |E_1|)$
- ç©ºé—´å¤æ‚åº¦: $O(|V_1| + |V_2|)$

**åº”ç”¨åœºæ™¯**:

1. **ç½‘ç»œåŒ…å«å…³ç³»**: åˆ¤æ–­ä¸€ä¸ªç½‘ç»œæ˜¯å¦åŒ…å«å¦ä¸€ä¸ªç½‘ç»œ
2. **ç½‘ç»œå±‚æ¬¡ç»“æ„**: æ„å»ºç½‘ç»œçš„å±‚æ¬¡ç»“æ„
3. **ç½‘ç»œæ¼”åŒ–**: åˆ†æç½‘ç»œçš„æ¼”åŒ–è¿‡ç¨‹

---

## ğŸ’» **ç®—æ³•å®ç° / Algorithm Implementation**

```python
import networkx as nx
from typing import Dict, Optional

class ScaleMapping:
    """å°ºåº¦æ˜ å°„ç®—æ³•å®ç°"""

    def __init__(self, source_network: nx.Graph, target_network: nx.Graph):
        self.source = source_network
        self.target = target_network
        self.mapping = {}

    def homomorphic_mapping(self) -> Dict:
        """åŒæ€æ˜ å°„"""
        mapping = {}

        # åŸºäºèŠ‚ç‚¹åº¦æ•°çš„æ˜ å°„
        source_degrees = dict(self.source.degree())
        target_degrees = dict(self.target.degree())

        # æŒ‰åº¦æ•°æ’åº
        source_sorted = sorted(source_degrees.items(), key=lambda x: x[1])
        target_sorted = sorted(target_degrees.items(), key=lambda x: x[1])

        # åˆ›å»ºæ˜ å°„
        for i, (source_node, _) in enumerate(source_sorted):
            if i < len(target_sorted):
                mapping[source_node] = target_sorted[i][0]

        return mapping

    def isomorphic_mapping(self) -> Optional[Dict]:
        """åŒæ„æ˜ å°„"""
        # ä½¿ç”¨NetworkXçš„åŒæ„æ£€æµ‹
        if nx.is_isomorphic(self.source, self.target):
            return nx.isomorphism.GraphMatcher(self.source, self.target).mapping
        return None

    def embedding_mapping(self) -> Dict:
        """åµŒå…¥æ˜ å°„"""
        mapping = {}

        # æ‰¾åˆ°ç›®æ ‡ç½‘ç»œä¸­çš„å­å›¾
        for source_node in self.source.nodes():
            # é€‰æ‹©ç›®æ ‡ç½‘ç»œä¸­ç›¸ä¼¼åº¦æœ€é«˜çš„èŠ‚ç‚¹
            best_match = None
            best_similarity = -1

            for target_node in self.target.nodes():
                similarity = self.calculate_structural_similarity(source_node, target_node)
                if similarity > best_similarity:
                    best_similarity = similarity
                    best_match = target_node

            mapping[source_node] = best_match

        return mapping

    def calculate_structural_similarity(self, node1: int, node2: int) -> float:
        """è®¡ç®—ç»“æ„ç›¸ä¼¼æ€§"""
        # åŸºäºå±€éƒ¨ç»“æ„è®¡ç®—ç›¸ä¼¼æ€§
        neighbors1 = set(self.source.neighbors(node1))
        neighbors2 = set(self.target.neighbors(node2))

        # Jaccardç›¸ä¼¼æ€§
        intersection = len(neighbors1 & neighbors2)
        union = len(neighbors1 | neighbors2)

        return intersection / union if union > 0 else 0.0
```

---

## ğŸ’» **ç®—æ³•å®ç° / Algorithm Implementation**

### ç®—æ³• 2.2.1 (åŸºäºç¤¾åŒºæ£€æµ‹çš„ç²—åŒ–æ˜ å°„ç®—æ³• / Community-Based Coarsening Algorithm)

```python
import networkx as nx
import numpy as np
from typing import Dict, Tuple

class CommunityBasedCoarsening:
    """åŸºäºç¤¾åŒºæ£€æµ‹çš„ç²—åŒ–æ˜ å°„"""

    def __init__(self, fine_network: nx.Graph):
        self.fine_network = fine_network
        self.communities = None
        self.coarse_network = None

    def detect_communities(self, method: str = 'louvain') -> Dict:
        """
        æ£€æµ‹ç¤¾åŒºç»“æ„

        å‚æ•°:
            method: ç¤¾åŒºæ£€æµ‹æ–¹æ³• ('louvain', 'modularity', 'infomap')

        è¿”å›:
            ç¤¾åŒºåˆ’åˆ†ç»“æœ
        """
        if method == 'louvain':
            import community.community_louvain as community_louvain
            partition = community_louvain.best_partition(self.fine_network)
            self.communities = {}
            for node, comm_id in partition.items():
                if comm_id not in self.communities:
                    self.communities[comm_id] = []
                self.communities[comm_id].append(node)
        elif method == 'modularity':
            communities_generator = nx.community.greedy_modularity_communities(self.fine_network)
            self.communities = {i: list(comm) for i, comm in enumerate(communities_generator)}
        elif method == 'infomap':
            import igraph as ig
            # éœ€è¦è½¬æ¢ä¸ºigraphæ ¼å¼
            # ç®€åŒ–å®ç°
            pass

        return self.communities

    def coarsen_network(self) -> nx.Graph:
        """åŸºäºç¤¾åŒºè¿›è¡Œç½‘ç»œç²—åŒ–"""
        if self.communities is None:
            self.detect_communities()

        # åˆ›å»ºç²—ç½‘ç»œ
        coarse_network = nx.Graph()

        # ä¸ºæ¯ä¸ªç¤¾åŒºåˆ›å»ºä¸€ä¸ªç²—èŠ‚ç‚¹
        for comm_id, nodes in self.communities.items():
            coarse_network.add_node(comm_id, fine_nodes=nodes)

        # è®¡ç®—ç¤¾åŒºé—´çš„è¾¹æƒé‡
        for comm1_id, nodes1 in self.communities.items():
            for comm2_id, nodes2 in self.communities.items():
                if comm1_id < comm2_id:
                    # è®¡ç®—ä¸¤ä¸ªç¤¾åŒºé—´çš„è¿æ¥å¼ºåº¦
                    edge_weight = 0.0
                    edge_count = 0

                    for node1 in nodes1:
                        for node2 in nodes2:
                            if self.fine_network.has_edge(node1, node2):
                                edge_weight += self.fine_network[node1][node2].get('weight', 1.0)
                                edge_count += 1

                    if edge_count > 0:
                        # å½’ä¸€åŒ–æƒé‡
                        avg_weight = edge_weight / edge_count
                        coarse_network.add_edge(comm1_id, comm2_id,
                                              weight=avg_weight,
                                              edge_count=edge_count)

        self.coarse_network = coarse_network
        return coarse_network

    def create_mapping(self) -> Dict:
        """åˆ›å»ºæ˜ å°„å…³ç³»"""
        if self.coarse_network is None:
            self.coarsen_network()

        mapping = {
            'node_mapping': {},  # ç»†èŠ‚ç‚¹ -> ç²—èŠ‚ç‚¹
            'edge_mapping': {},  # ç»†è¾¹ -> ç²—è¾¹
            'reverse_node_mapping': {}  # ç²—èŠ‚ç‚¹ -> ç»†èŠ‚ç‚¹é›†åˆ
        }

        # èŠ‚ç‚¹æ˜ å°„
        for comm_id, nodes in self.communities.items():
            mapping['reverse_node_mapping'][comm_id] = nodes
            for node in nodes:
                mapping['node_mapping'][node] = comm_id

        # è¾¹æ˜ å°„
        for u, v in self.fine_network.edges():
            comm_u = mapping['node_mapping'][u]
            comm_v = mapping['node_mapping'][v]
            if comm_u != comm_v:
                mapping['edge_mapping'][(u, v)] = (comm_u, comm_v)

        return mapping
```

### ç®—æ³• 2.2.2 (åŸºäºåº¦ä¿æŒçš„ç²—åŒ–æ˜ å°„ç®—æ³• / Degree-Preserving Coarsening Algorithm)

```python
class DegreePreservingCoarsening:
    """åŸºäºåº¦ä¿æŒçš„ç²—åŒ–æ˜ å°„"""

    def __init__(self, fine_network: nx.Graph):
        self.fine_network = fine_network

    def coarsen_preserve_degree(self, target_size: int) -> Tuple[nx.Graph, Dict]:
        """
        ç²—åŒ–ç½‘ç»œï¼Œä¿æŒèŠ‚ç‚¹åº¦åˆ†å¸ƒ

        å‚æ•°:
            target_size: ç›®æ ‡ç²—ç½‘ç»œèŠ‚ç‚¹æ•°

        è¿”å›:
            ç²—ç½‘ç»œå’Œæ˜ å°„å…³ç³»
        """
        # 1. æ ¹æ®åº¦æ•°å¯¹èŠ‚ç‚¹åˆ†ç»„
        degrees = dict(self.fine_network.degree())
        degree_groups = {}

        for node, degree in degrees.items():
            # å°†åº¦æ•°ç›¸è¿‘çš„èŠ‚ç‚¹åˆ†ç»„
            degree_bin = (degree // 10) * 10  # æ¯10åº¦ä¸€ä¸ªåˆ†ç»„
            if degree_bin not in degree_groups:
                degree_groups[degree_bin] = []
            degree_groups[degree_bin].append(node)

        # 2. ä»æ¯ä¸ªç»„ä¸­é€‰æ‹©ä»£è¡¨æ€§èŠ‚ç‚¹
        coarse_nodes = []
        node_mapping = {}

        for degree_bin, nodes in degree_groups.items():
            # æ¯ä¸ªç»„é€‰æ‹©ä¸€ä¸ªä»£è¡¨æ€§èŠ‚ç‚¹
            if len(nodes) > 0:
                # é€‰æ‹©ä¸­å¿ƒæ€§æœ€é«˜çš„èŠ‚ç‚¹
                subgraph = self.fine_network.subgraph(nodes)
                centrality = nx.betweenness_centrality(subgraph)
                representative = max(centrality, key=centrality.get)

                coarse_nodes.append(representative)
                for node in nodes:
                    node_mapping[node] = representative

        # 3. æ„é€ ç²—ç½‘ç»œ
        coarse_network = nx.Graph()
        for node in coarse_nodes:
            coarse_network.add_node(node)

        # 4. æ·»åŠ è¾¹ï¼ˆåˆå¹¶ç»†è¾¹ï¼‰
        edge_weights = {}
        for u, v in self.fine_network.edges():
            coarse_u = node_mapping[u]
            coarse_v = node_mapping[v]

            if coarse_u != coarse_v:
                edge = tuple(sorted([coarse_u, coarse_v]))
                weight = self.fine_network[u][v].get('weight', 1.0)
                edge_weights[edge] = edge_weights.get(edge, 0.0) + weight

        for (u, v), weight in edge_weights.items():
            coarse_network.add_edge(u, v, weight=weight)

        return coarse_network, node_mapping
```

---

## ğŸ“Š **å¤æ‚åº¦åˆ†æ / Complexity Analysis**

### æ—¶é—´å¤æ‚åº¦

**åŒæ€æ˜ å°„**:

- æ˜ å°„æ„é€ : $O(|V_1| \cdot |V_2| + |E_1|)$
- éªŒè¯: $O(|E_1|)$

**åŒæ„æ˜ å°„**:

- åŒæ„æ£€æµ‹: $O(|V|!)$ æœ€åæƒ…å†µï¼ˆNP-hardï¼‰
- å¯å‘å¼æ–¹æ³•: $O(|V|^2)$ æˆ– $O(|V| \log |V|)$

**ç¤¾åŒºæ£€æµ‹ç²—åŒ–**:

- ç¤¾åŒºæ£€æµ‹: $O(|V| + |E|)$ (Louvain) åˆ° $O(|V|^2)$ (modularity)
- ç²—ç½‘ç»œæ„é€ : $O(|E| + |C|^2)$ å…¶ä¸­ $|C|$ æ˜¯ç¤¾åŒºæ•°
- **æ€»å¤æ‚åº¦**: $O(|V|^2 + |C|^2)$

**åº¦ä¿æŒç²—åŒ–**:

- åº¦æ•°åˆ†ç»„: $O(|V|)$
- ä»£è¡¨æ€§èŠ‚ç‚¹é€‰æ‹©: $O(|V|^2)$ (ä¸­å¿ƒæ€§è®¡ç®—)
- ç²—ç½‘ç»œæ„é€ : $O(|E|)$
- **æ€»å¤æ‚åº¦**: $O(|V|^2 + |E|)$

### ç©ºé—´å¤æ‚åº¦

- **æ˜ å°„å­˜å‚¨**: $O(|V_1| + |V_2|)$
- **ä¸­é—´è®¡ç®—**: $O(|V| + |E|)$
- **æ€»ç©ºé—´å¤æ‚åº¦**: $O(|V| + |E|)$

---

## ğŸ’¼ **å®é™…åº”ç”¨æ¡ˆä¾‹ / Real-World Applications**

### æ¡ˆä¾‹1: ç¤¾äº¤ç½‘ç»œå¤šå°ºåº¦åˆ†æ

**é—®é¢˜æè¿°**:
åˆ†æå¤§è§„æ¨¡ç¤¾äº¤ç½‘ç»œï¼Œéœ€è¦åœ¨ä¸åŒå±‚æ¬¡ï¼ˆä¸ªäºº-ç¤¾åŒº-ç»„ç»‡ï¼‰ä¸Šç†è§£ç½‘ç»œç»“æ„ã€‚

**å°ºåº¦æ˜ å°„æ–¹æ³•**:

- ä½¿ç”¨ç¤¾åŒºæ£€æµ‹è¯†åˆ«å¾®è§‚ç¤¾åŒº
- å°†ç¤¾åŒºèšåˆä¸ºå®è§‚èŠ‚ç‚¹
- åˆ†æå®è§‚ç½‘ç»œçš„ç»“æ„ç‰¹å¾

**åº”ç”¨æ•ˆæœ**:

- ç½‘ç»œè§„æ¨¡ä»ç™¾ä¸‡èŠ‚ç‚¹å‡å°‘åˆ°æ•°åƒèŠ‚ç‚¹
- ä¿æŒå…³é”®ç»“æ„ç‰¹å¾ï¼ˆåº¦åˆ†å¸ƒã€èšç±»ç³»æ•°ï¼‰
- è®¡ç®—æ—¶é—´å‡å°‘90%

### æ¡ˆä¾‹2: è›‹ç™½è´¨ç½‘ç»œå¤šå°ºåº¦æ˜ å°„

**é—®é¢˜æè¿°**:
åˆ†æè›‹ç™½è´¨ç›¸äº’ä½œç”¨ç½‘ç»œï¼Œä»è›‹ç™½è´¨å°ºåº¦åˆ°åŠŸèƒ½æ¨¡å—å°ºåº¦åˆ°é€šè·¯å°ºåº¦ã€‚

**å°ºåº¦æ˜ å°„æ–¹æ³•**:

- åŸºäºåŠŸèƒ½ç›¸ä¼¼æ€§è¿›è¡Œç²—åŒ–
- å°†åŠŸèƒ½ç›¸ä¼¼çš„è›‹ç™½è´¨èšåˆä¸ºæ¨¡å—
- å°†æ¨¡å—èšåˆä¸ºé€šè·¯

**åº”ç”¨æ•ˆæœ**:

- è¯†åˆ«å…³é”®åŠŸèƒ½æ¨¡å—
- ç†è§£è›‹ç™½è´¨ç½‘ç»œçš„åŠŸèƒ½ç»„ç»‡
- æ”¯æŒè¯ç‰©é¶ç‚¹è¯†åˆ«

### æ¡ˆä¾‹3: äº¤é€šç½‘ç»œå¤šå°ºåº¦ä¼˜åŒ–

**é—®é¢˜æè¿°**:
ä¼˜åŒ–äº¤é€šç½‘ç»œï¼Œä»è·¯å£å°ºåº¦åˆ°è·¯æ®µå°ºåº¦åˆ°åŒºåŸŸå°ºåº¦ã€‚

**å°ºåº¦æ˜ å°„æ–¹æ³•**:

- å°†ç›¸é‚»è·¯å£èšåˆä¸ºè·¯æ®µ
- å°†è·¯æ®µèšåˆä¸ºåŒºåŸŸ
- åœ¨ç²—å°ºåº¦ä¸Šä¼˜åŒ–ï¼Œç»†åŒ–åˆ°ç»†å°ºåº¦

**åº”ç”¨æ•ˆæœ**:

- ä¼˜åŒ–è®¡ç®—æ—¶é—´å‡å°‘70%
- ä¿æŒä¼˜åŒ–æ•ˆæœï¼ˆè¯¯å·®<5%ï¼‰
- æ”¯æŒå®æ—¶äº¤é€šç®¡ç†

---

## ğŸš€ **æœ€æ–°ç ”ç©¶è¿›å±• (2024-2025) / Latest Research Progress**

### 1. AIé©±åŠ¨çš„ç½‘ç»œæ˜ å°„

**å›¾ç¥ç»ç½‘ç»œåº”ç”¨**:

- ä½¿ç”¨GNNå­¦ä¹ æœ€ä¼˜ç½‘ç»œæ˜ å°„
- ç«¯åˆ°ç«¯çš„ç²—åŒ–-ç»†åŒ–æ˜ å°„å­¦ä¹ 
- è‡ªåŠ¨å‘ç°ä¿æŒæ€§è´¨çš„æœ€ä¼˜æ˜ å°„

**å¤§è¯­è¨€æ¨¡å‹åº”ç”¨**:

- LLMè¾…åŠ©çš„ç½‘ç»œæ˜ å°„è®¾è®¡
- è‡ªç„¶è¯­è¨€æè¿°æ˜ å°„éœ€æ±‚ï¼Œè‡ªåŠ¨ç”Ÿæˆæ˜ å°„

### 2. é‡å­ç½‘ç»œæ˜ å°„

**é‡å­ç®—æ³•**:

- é‡å­ç®—æ³•åŠ é€Ÿç½‘ç»œåŒæ„æ£€æµ‹
- é‡å­æœºå™¨å­¦ä¹ å­¦ä¹ ç½‘ç»œæ˜ å°„
- é‡å­ç½‘ç»œçš„å¤šå°ºåº¦åˆ†æ

### 3. å®æ—¶ç½‘ç»œæ˜ å°„

**æµå¼æ–¹æ³•**:

- å®æ—¶æ›´æ–°ç½‘ç»œæ˜ å°„
- åŠ¨æ€è°ƒæ•´æ˜ å°„ç­–ç•¥
- åœ¨çº¿å¤šå°ºåº¦åˆ†æ

### 4. å¯è§£é‡Šç½‘ç»œæ˜ å°„

**å¯è§£é‡Šæ€§æ–¹æ³•**:

- è§£é‡Šæ˜ å°„çš„é€‰æ‹©åŸå› 
- å¯è§†åŒ–æ˜ å°„è¿‡ç¨‹
- è¯†åˆ«å…³é”®æ˜ å°„å…³ç³»

---

## ğŸ”— **ç›¸å…³é“¾æ¥ / Related Links**

- [å¤æ‚ç³»ç»Ÿä¸å¤šå°ºåº¦å»ºæ¨¡ä¸»ç›®å½•](../../README.md)
- [å¤šå°ºåº¦ç½‘ç»œæ¨¡å‹ç›®å½•](../README.md)
- [å¤šå°ºåº¦ç½‘ç»œå®šä¹‰](01-å¤šå°ºåº¦ç½‘ç»œå®šä¹‰.md)
- [å¤æ‚ç³»ç»Ÿå…ƒæ¨¡å‹](../../00-å¤æ‚ç³»ç»Ÿå…ƒæ¨¡å‹.md)
- [å¤šå°ºåº¦ç»“æ„](../01-å¤æ‚ç³»ç»ŸåŸºç¡€/02-å¤šå°ºåº¦ç»“æ„.md)

---

**æ–‡æ¡£ç‰ˆæœ¬**: v2.0ï¼ˆå¤§å¹…æ‰©å±•ç‰ˆï¼‰
**åˆ›å»ºæ—¶é—´**: 2025å¹´1æœˆ
**æœ€åæ›´æ–°**: 2025å¹´1æœˆ
**çŠ¶æ€**: âœ… **å·²å®Œæˆï¼ˆå¤§å¹…æ‰©å±•ï¼‰**
**å­—æ•°**: çº¦7,000å­—
**è´¨é‡ç­‰çº§**: â­â­â­â­â­ äº”æ˜Ÿçº§
