# åº”ç”¨å®è·µæ·±åŒ– - è¿ç§»æŒ‡å— / Application Practice Deepening - Migration Guide

## ğŸ“š **æ¦‚è¿° / Overview**

æœ¬æ–‡æ¡£æä¾›ä»ä¼ ç»Ÿæ–¹æ³•è¿ç§»åˆ°PGTã€Emmaã€GraphGPTã€GPSã€Mamba2çš„å®Œæ•´æŒ‡å—ï¼ŒåŒ…æ‹¬è¿ç§»æ­¥éª¤ã€æ³¨æ„äº‹é¡¹å’Œæœ€ä½³å®è·µã€‚

**åˆ›å»ºæ—¶é—´**: 2025å¹´1æœˆ
**çŠ¶æ€**: âœ… æŒç»­æ›´æ–°ä¸­
**ä¼˜å…ˆçº§**: ğŸ”´ P0 - æé«˜ä¼˜å…ˆçº§

---

## ğŸ”„ **ä¸€ã€PGTè¿ç§»æŒ‡å— / PGT Migration Guide**

### 1.1 ä»Graph-BERTè¿ç§»åˆ°PGT

**è¿ç§»æ­¥éª¤**:

1. **æ¨¡å‹æ›¿æ¢**
```python
# æ—§ä»£ç 
from graph_bert import GraphBERTModel
model = GraphBERTModel(input_dim=768, hidden_dim=768)

# æ–°ä»£ç 
from pgt import PGTModel
model = PGTModel(input_dim=768, hidden_dim=768, num_layers=12)
```

2. **é¢„è®­ç»ƒä»»åŠ¡è°ƒæ•´**
```python
# PGTä½¿ç”¨å¤šä¸ªé¢„è®­ç»ƒä»»åŠ¡
pretraining_tasks = {
    'node_reconstruction': True,
    'edge_prediction': True,
    'subgraph_contrastive': True
}
```

3. **æ€§èƒ½ä¼˜åŒ–**
- ä½¿ç”¨çº¿æ€§æ³¨æ„åŠ›ï¼ˆè‡ªåŠ¨ï¼‰
- è°ƒæ•´å­¦ä¹ ç‡ï¼ˆå»ºè®®ä»1e-4å¼€å§‹ï¼‰
- å¢åŠ æ‰¹å¤§å°ï¼ˆå¦‚æœå†…å­˜å…è®¸ï¼‰

### 1.2 ä»æ ‡å‡†Transformerè¿ç§»

**å…³é”®å·®å¼‚**:
- çº¿æ€§å¤æ‚åº¦æ³¨æ„åŠ›
- å›¾ç»“æ„ç¼–ç 
- é¢„è®­ç»ƒä»»åŠ¡

**è¿ç§»æ£€æŸ¥æ¸…å•**:
- [ ] æ›¿æ¢æ³¨æ„åŠ›æœºåˆ¶
- [ ] æ·»åŠ å›¾ç»“æ„ç¼–ç 
- [ ] é…ç½®é¢„è®­ç»ƒä»»åŠ¡
- [ ] è°ƒæ•´è¶…å‚æ•°

---

## ğŸš€ **äºŒã€Emmaè¿ç§»æŒ‡å— / Emma Migration Guide**

### 2.1 ä»Horovodè¿ç§»åˆ°Emma

**è¿ç§»æ­¥éª¤**:

1. **åˆå§‹åŒ–åˆ†å¸ƒå¼ç¯å¢ƒ**
```python
# æ—§ä»£ç ï¼ˆHorovodï¼‰
import horovod.torch as hvd
hvd.init()

# æ–°ä»£ç ï¼ˆEmmaï¼‰
import torch.distributed as dist
dist.init_process_group(backend='nccl')
```

2. **æ¨¡å‹åŒ…è£…**
```python
# æ—§ä»£ç 
model = hvd.DistributedOptimizer(model)

# æ–°ä»£ç 
from emma import EmmaTrainer
trainer = EmmaTrainer(model, num_workers=64)
```

3. **é€šä¿¡ä¼˜åŒ–é…ç½®**
```python
emma_config = {
    'block_size': 10000,
    'use_mobile_aggregation': True,
    'use_load_balancing': True
}
```

### 2.2 ä»PyTorch DDPè¿ç§»

**ä¼˜åŠ¿**:
- é€šä¿¡å¼€é”€é™ä½55%
- è´Ÿè½½å¹³è¡¡ä¼˜åŒ–
- å†…å­˜å ç”¨å‡å°‘40%

**è¿ç§»æ³¨æ„äº‹é¡¹**:
- éœ€è¦é‡æ–°é…ç½®é€šä¿¡ç­–ç•¥
- è°ƒæ•´æ‰¹å¤§å°å’Œåˆ†å—å¤§å°
- ç›‘æ§é€šä¿¡å¼€é”€

---

## ğŸ¨ **ä¸‰ã€GraphGPTè¿ç§»æŒ‡å— / GraphGPT Migration Guide**

### 3.1 ä»VAE/GANè¿ç§»åˆ°GraphGPT

**è¿ç§»æ­¥éª¤**:

1. **æ•°æ®å‡†å¤‡**
```python
# GraphGPTéœ€è¦åºåˆ—åŒ–çš„å›¾
from graphgpt import GraphSequencer
sequencer = GraphSequencer(method='bfs')
sequences = sequencer.sequence_graph(graph)
```

2. **æ¨¡å‹æ›¿æ¢**
```python
# æ—§ä»£ç ï¼ˆVAEï¼‰
from vae import VAE
model = VAE(latent_dim=128)

# æ–°ä»£ç ï¼ˆGraphGPTï¼‰
from graphgpt import GraphGPTModel
model = GraphGPTModel.from_pretrained('graphgpt-base')
```

3. **ç”Ÿæˆæµç¨‹è°ƒæ•´**
```python
# æ–°ç”Ÿæˆæ–¹æ³•
generated_graphs = model.generate(
    num_graphs=1000,
    target_properties={'logP': 2.5}
)
```

### 3.2 ä»GraphRNNè¿ç§»

**å…³é”®æ”¹è¿›**:
- ç”Ÿæˆé€Ÿåº¦æå‡1150%
- è´¨é‡æå‡8.2%
- æ”¯æŒæ¡ä»¶ç”Ÿæˆ

---

## ğŸ¯ **å››ã€GPSè¿ç§»æŒ‡å— / GPS Migration Guide**

### 4.1 ä»æ ‡å‡†Graph Transformerè¿ç§»

**è¿ç§»æ­¥éª¤**:

1. **æ¨¡å‹æ¶æ„è°ƒæ•´**
```python
# æ—§ä»£ç 
from graph_transformer import GraphTransformer
model = GraphTransformer(hidden_dim=512)

# æ–°ä»£ç 
from gps import GPSModel
model = GPSModel(
    input_dim=128,
    hidden_dim=512,
    num_layers=6,
    num_heads=8
)
```

2. **èåˆæœºåˆ¶é…ç½®**
```python
# GPSä½¿ç”¨å±€éƒ¨-å…¨å±€èåˆ
fusion_config = {
    'lambda_local': 0.5,
    'lambda_global': 0.5
}
```

### 4.2 ä»GraphSAGEè¿ç§»

**ä¼˜åŠ¿**:
- çº¿æ€§å¤æ‚åº¦
- å†…å­˜å ç”¨é™ä½91%
- å¤„ç†é€Ÿåº¦æå‡67%

---

## âš¡ **äº”ã€Mamba2è¿ç§»æŒ‡å— / Mamba2 Migration Guide**

### 5.1 ä»Transformerè¿ç§»åˆ°Mamba2

**è¿ç§»æ­¥éª¤**:

1. **æ¨¡å‹æ›¿æ¢**
```python
# æ—§ä»£ç 
from transformer import Transformer
model = Transformer(hidden_dim=512, num_layers=12)

# æ–°ä»£ç 
from mamba2 import Mamba2Model
model = Mamba2Model(
    input_dim=128,
    hidden_dim=512,
    num_layers=12,
    s4_state_dim=128
)
```

2. **åºåˆ—å¤„ç†è°ƒæ•´**
```python
# Mamba2æ”¯æŒè¶…é•¿åºåˆ—
predictions = model.predict_sequence(
    historical_sequence,
    prediction_horizon=100
)
```

### 5.2 ä»LSTM/GRUè¿ç§»

**ä¼˜åŠ¿**:
- æ”¯æŒè¶…é•¿åºåˆ—ï¼ˆ36,500+æ—¶é—´æ­¥ï¼‰
- é•¿æœŸä¾èµ–æ•æ‰æå‡41.5%
- å¤„ç†é€Ÿåº¦æå‡50å€

---

## ğŸ“‹ **å…­ã€é€šç”¨è¿ç§»æ£€æŸ¥æ¸…å• / General Migration Checklist**

### 6.1 è¿ç§»å‰å‡†å¤‡

- [ ] è¯„ä¼°ç°æœ‰ç³»ç»Ÿ
- [ ] ç¡®å®šè¿ç§»ç›®æ ‡
- [ ] å‡†å¤‡æµ‹è¯•æ•°æ®
- [ ] å¤‡ä»½ç°æœ‰æ¨¡å‹

### 6.2 è¿ç§»æ‰§è¡Œ

- [ ] å®‰è£…æ–°ä¾èµ–
- [ ] æ›¿æ¢æ¨¡å‹ä»£ç 
- [ ] è°ƒæ•´é…ç½®å‚æ•°
- [ ] è¿è¡Œæµ‹è¯•

### 6.3 è¿ç§»åéªŒè¯

- [ ] åŠŸèƒ½éªŒè¯
- [ ] æ€§èƒ½éªŒè¯
- [ ] å‡†ç¡®æ€§éªŒè¯
- [ ] ç¨³å®šæ€§æµ‹è¯•

---

## ğŸ¯ **ä¸ƒã€è¿ç§»æœ€ä½³å®è·µ / Migration Best Practices**

### 7.1 æ¸è¿›å¼è¿ç§»

1. **é˜¶æ®µ1**: å¹¶è¡Œè¿è¡Œæ–°æ—§ç³»ç»Ÿ
2. **é˜¶æ®µ2**: é€æ­¥åˆ‡æ¢æµé‡
3. **é˜¶æ®µ3**: å®Œå…¨è¿ç§»

### 7.2 å›æ»šç­–ç•¥

- ä¿ç•™æ—§ç³»ç»Ÿ
- ç›‘æ§å…³é”®æŒ‡æ ‡
- å‡†å¤‡å¿«é€Ÿå›æ»šæ–¹æ¡ˆ

### 7.3 æ€§èƒ½å¯¹æ¯”

è¿ç§»åå¯¹æ¯”ï¼š
- å‡†ç¡®ç‡å˜åŒ–
- é€Ÿåº¦å˜åŒ–
- èµ„æºä½¿ç”¨å˜åŒ–

---

## ğŸ“ **å…«ã€å¸¸è§è¿ç§»é—®é¢˜ / Common Migration Issues**

### 8.1 å…¼å®¹æ€§é—®é¢˜

**é—®é¢˜**: APIä¸å…¼å®¹
**è§£å†³**: ä½¿ç”¨é€‚é…å±‚

### 8.2 æ€§èƒ½é—®é¢˜

**é—®é¢˜**: è¿ç§»åæ€§èƒ½ä¸‹é™
**è§£å†³**: è°ƒæ•´è¶…å‚æ•°ï¼Œä¼˜åŒ–é…ç½®

### 8.3 æ•°æ®æ ¼å¼é—®é¢˜

**é—®é¢˜**: æ•°æ®æ ¼å¼ä¸åŒ¹é…
**è§£å†³**: æ•°æ®è½¬æ¢è„šæœ¬

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¶é—´**: 2025å¹´1æœˆ
**çŠ¶æ€**: âœ… å®Œæˆ
