# æ—¶åºé€»è¾‘æ¨¡å‹è½¬æ¢ä¸“é¢˜ / Temporal Logic Model Transformation Topic

## ğŸ“š **æ¦‚è¿° / Overview**

æœ¬æ–‡æ¡£ä¸“é—¨ä»‹ç»æ—¶åºé€»è¾‘æ¨¡å‹ï¼ˆLTSã€Kripkeç»“æ„ã€BÃ¼chiè‡ªåŠ¨æœºï¼‰ä¸Petriç½‘ä¹‹é—´çš„è½¬æ¢ï¼ŒåŒ…å«**å®Œæ•´çš„ä»£ç å®ç°**å’Œ**ä¸¥æ ¼çš„å½¢å¼åŒ–è¯æ˜**ã€‚

**æ–‡æ¡£ç‰¹ç‚¹**ï¼š

- âœ… **å®Œæ•´ä»£ç å®ç°**ï¼šLTSã€Kripkeã€BÃ¼chiåˆ°Petriç½‘çš„è½¬æ¢ç®—æ³•
- âœ… **ä¸¥æ ¼å½¢å¼åŒ–è¯æ˜**ï¼šåŒæ¨¡æ‹Ÿç­‰ä»·æ€§ã€è¯­ä¹‰ä¿æŒè¯æ˜
- âœ… **å¤šç§æ—¶åºæ¨¡å‹**ï¼šLTSã€Kripkeç»“æ„ã€BÃ¼chiè‡ªåŠ¨æœº
- âœ… **åŒå‘è½¬æ¢**ï¼šæ—¶åºæ¨¡å‹ â†’ Petriç½‘ å’Œ Petriç½‘ â†’ æ—¶åºæ¨¡å‹

**è´¨é‡ç­‰çº§**: â­â­â­â­â­ äº”æ˜Ÿçº§
**åˆ›å»ºæ—¶é—´**: 2025å¹´1æœˆ
**æœ€åæ›´æ–°**: 2025å¹´1æœˆ

---

## ğŸ“‘ **ç›®å½• / Table of Contents**

- [1. ç†è®ºåŸºç¡€ / Theoretical Foundation](#1-ç†è®ºåŸºç¡€--theoretical-foundation)
- [2. LTSä¸Petriç½‘è½¬æ¢ / LTS-Petri Net Transformation](#2-ltsä¸petriç½‘è½¬æ¢--lts-petri-net-transformation)
- [3. Kripkeç»“æ„ä¸Petriç½‘è½¬æ¢ / Kripke Structure-Petri Net Transformation](#3-kripkeç»“æ„ä¸petriç½‘è½¬æ¢--kripke-structure-petri-net-transformation)
- [4. BÃ¼chiè‡ªåŠ¨æœºä¸Petriç½‘è½¬æ¢ / BÃ¼chi Automaton-Petri Net Transformation](#4-bÃ¼chiè‡ªåŠ¨æœºä¸petriç½‘è½¬æ¢--bÃ¼chi-automaton-petri-net-transformation)
- [5. å½¢å¼åŒ–è¯æ˜ / Formal Proofs](#5-å½¢å¼åŒ–è¯æ˜--formal-proofs)
- [6. ä»£ç å®ç° / Code Implementation](#6-ä»£ç å®ç°--code-implementation)
- [7. åº”ç”¨æ¡ˆä¾‹ / Application Cases](#7-åº”ç”¨æ¡ˆä¾‹--application-cases)

---

## 1. ç†è®ºåŸºç¡€ / Theoretical Foundation

### 1.1 LTSå®šä¹‰ / LTS Definition

**å®šä¹‰ 1.1** (æ ‡è®°è½¬æ¢ç³»ç»Ÿ / Labeled Transition System)

æ ‡è®°è½¬æ¢ç³»ç»Ÿ $LTS = (S, S_0, L, \to)$ï¼Œå…¶ä¸­ï¼š

- $S$ï¼šçŠ¶æ€é›†åˆ
- $S_0 \subseteq S$ï¼šåˆå§‹çŠ¶æ€é›†åˆ
- $L$ï¼šåŠ¨ä½œæ ‡ç­¾é›†åˆ
- $\to \subseteq S \times L \times S$ï¼šæ ‡è®°è½¬æ¢å…³ç³»

**å½¢å¼åŒ–è¯­ä¹‰**ï¼š

- **è½¬æ¢**ï¼š$(s, a, s') \in \to$ è¡¨ç¤ºä»çŠ¶æ€ $s$ é€šè¿‡åŠ¨ä½œ $a$ è½¬æ¢åˆ°çŠ¶æ€ $s'$
- **æ‰§è¡Œè·¯å¾„**ï¼š$\pi = s_0 \xrightarrow{a_1} s_1 \xrightarrow{a_2} \cdots \xrightarrow{a_n} s_n$
- **è¿¹**ï¼š$\text{trace}(\pi) = a_1 a_2 \cdots a_n$

### 1.2 Kripkeç»“æ„å®šä¹‰ / Kripke Structure Definition

**å®šä¹‰ 1.2** (Kripkeç»“æ„ / Kripke Structure)

Kripkeç»“æ„ $K = (S, S_0, R, L)$ï¼Œå…¶ä¸­ï¼š

- $S$ï¼šçŠ¶æ€é›†åˆ
- $S_0 \subseteq S$ï¼šåˆå§‹çŠ¶æ€é›†åˆ
- $R \subseteq S \times S$ï¼šè½¬æ¢å…³ç³»
- $L: S \to 2^{AP}$ï¼šæ ‡ç­¾å‡½æ•°ï¼ˆ$AP$ æ˜¯åŸå­å‘½é¢˜é›†åˆï¼‰

**å½¢å¼åŒ–è¯­ä¹‰**ï¼š

- **çŠ¶æ€æ ‡ç­¾**ï¼š$L(s)$ è¡¨ç¤ºçŠ¶æ€ $s$ æ»¡è¶³çš„åŸå­å‘½é¢˜é›†åˆ
- **è·¯å¾„**ï¼š$\pi = s_0 s_1 s_2 \cdots$ æ˜¯æ— é™è·¯å¾„ï¼Œå¦‚æœ $(s_i, s_{i+1}) \in R$
- **CTLè¯­ä¹‰**ï¼šç”¨äºéªŒè¯è®¡ç®—æ ‘é€»è¾‘ï¼ˆCTLï¼‰å…¬å¼

### 1.3 BÃ¼chiè‡ªåŠ¨æœºå®šä¹‰ / BÃ¼chi Automaton Definition

**å®šä¹‰ 1.3** (BÃ¼chiè‡ªåŠ¨æœº / BÃ¼chi Automaton)

BÃ¼chiè‡ªåŠ¨æœº $BA = (Q, \Sigma, \delta, q_0, F)$ï¼Œå…¶ä¸­ï¼š

- $Q$ï¼šçŠ¶æ€é›†åˆ
- $\Sigma$ï¼šè¾“å…¥å­—æ¯è¡¨
- $\delta: Q \times \Sigma \to 2^Q$ï¼šè½¬ç§»å‡½æ•°
- $q_0 \in Q$ï¼šåˆå§‹çŠ¶æ€
- $F \subseteq Q$ï¼šæ¥å—çŠ¶æ€é›†åˆ

**å½¢å¼åŒ–è¯­ä¹‰**ï¼š

- **æ¥å—æ¡ä»¶**ï¼šæ— é™å­— $w = a_0 a_1 a_2 \cdots$ è¢«æ¥å—ï¼Œå¦‚æœå­˜åœ¨è¿è¡Œ $\rho = q_0 q_1 q_2 \cdots$ ä½¿å¾— $\text{Inf}(\rho) \cap F \neq \emptyset$
- **$\omega$-è¯­è¨€**ï¼š$L_\omega(BA) = \{w \in \Sigma^\omega \mid w \text{ è¢« } BA \text{ æ¥å—}\}$

---

## 2. LTSä¸Petriç½‘è½¬æ¢ / LTS-Petri Net Transformation

### 2.1 è½¬æ¢è§„åˆ™ / Transformation Rules

| LTSå…ƒç´  | Petriç½‘å…ƒç´  | è½¬æ¢è§„åˆ™ |
|--------|-----------|---------|
| **çŠ¶æ€ $s \in S$** | åº“æ‰€ $p_s$ | æ¯ä¸ªçŠ¶æ€å¯¹åº”ä¸€ä¸ªåº“æ‰€ |
| **è½¬æ¢ $(s, a, s') \in \to$** | å˜è¿ $t_{s,a}$ | è½¬æ¢å¯¹åº”å˜è¿ï¼Œæ ‡è®°ä¸ºåŠ¨ä½œ $a$ |
| **åˆå§‹çŠ¶æ€ $s_0 \in S_0$** | åˆå§‹æ ‡è¯† | $M_0(p_{s_0}) = 1$ |
| **åŠ¨ä½œæ ‡ç­¾ $a \in L$** | å˜è¿æ ‡ç­¾ | å˜è¿æ ‡è®°åŠ¨ä½œæ ‡ç­¾ |

### 2.2 å½¢å¼åŒ–è½¬æ¢å‡½æ•° / Formal Transformation Function

**å®šä¹‰ 2.1** (LTSåˆ°Petriç½‘è½¬æ¢å‡½æ•° / LTS to Petri Net Transformation Function)

ç»™å®šLTS $LTS = (S, S_0, L, \to)$ï¼Œå®šä¹‰è½¬æ¢å‡½æ•° $\mathcal{T}_{LTS \to PN}: \mathcal{M}_{LTS} \to \mathcal{M}_{PN}$ï¼Œå…¶ä¸­ï¼š

$$\mathcal{T}_{LTS \to PN}(LTS) = (P, T, F, M_0)$$

å…¶ä¸­ï¼š

- $P = \{p_s \mid s \in S\}$ï¼šä¸ºæ¯ä¸ªçŠ¶æ€åˆ›å»ºåº“æ‰€
- $T = \{t_{s,a} \mid (s, a, s') \in \to\}$ï¼šä¸ºæ¯ä¸ªè½¬æ¢åˆ›å»ºå˜è¿
- $F = \{(p_s, t_{s,a}), (t_{s,a}, p_{s'}) \mid (s, a, s') \in \to\}$ï¼šæµå…³ç³»
- $M_0: P \to \mathbb{N}$ æ»¡è¶³ $\forall s_0 \in S_0: M_0(p_{s_0}) = 1$ ä¸” $\forall s \notin S_0: M_0(p_s) = 0$ï¼šåˆå§‹æ ‡è¯†

**å¼•ç† 2.1** (è½¬æ¢å‡½æ•°è‰¯å®šä¹‰æ€§ / Well-Definedness)

è½¬æ¢å‡½æ•° $\mathcal{T}_{LTS \to PN}$ æ˜¯è‰¯å®šä¹‰çš„ï¼Œå³å¯¹äºä»»æ„LTS $LTS$ï¼Œ$\mathcal{T}_{LTS \to PN}(LTS)$ æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„Petriç½‘ã€‚

**è¯æ˜**ï¼š

1. **åº“æ‰€é›†åˆéç©º**ï¼šç”±äº $S \neq \emptyset$ï¼Œå› æ­¤ $P \neq \emptyset$ã€‚
2. **å˜è¿é›†åˆå®šä¹‰**ï¼š$T$ ç”±è½¬æ¢å…³ç³» $\to$ ç¡®å®šï¼Œæ˜¯æœ‰é™é›†åˆã€‚
3. **æµå…³ç³»å®šä¹‰**ï¼š$F \subseteq (P \times T) \cup (T \times P)$ï¼Œæ»¡è¶³Petriç½‘æµå…³ç³»çš„å®šä¹‰ã€‚
4. **åˆå§‹æ ‡è¯†å®šä¹‰**ï¼š$M_0: P \to \mathbb{N}$ æ˜¯è‰¯å®šä¹‰çš„å‡½æ•°ã€‚

å› æ­¤ï¼Œ$\mathcal{T}_{LTS \to PN}(LTS)$ æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„Petriç½‘ã€‚$\square$

---

## 3. Kripkeç»“æ„ä¸Petriç½‘è½¬æ¢ / Kripke Structure-Petri Net Transformation

### 3.1 è½¬æ¢è§„åˆ™ / Transformation Rules

| Kripkeç»“æ„å…ƒç´  | Petriç½‘å…ƒç´  | è½¬æ¢è§„åˆ™ |
|--------------|-----------|---------|
| **çŠ¶æ€ $s \in S$** | åº“æ‰€ $p_s$ | æ¯ä¸ªçŠ¶æ€å¯¹åº”ä¸€ä¸ªåº“æ‰€ |
| **è½¬æ¢ $(s, s') \in R$** | å˜è¿ $t_{s,s'}$ | è½¬æ¢å¯¹åº”å˜è¿ |
| **åŸå­å‘½é¢˜ $p \in AP$** | åº“æ‰€å±æ€§ | é€šè¿‡åº“æ‰€æ ‡è®°è¡¨ç¤º |
| **åˆå§‹çŠ¶æ€ $s_0 \in S_0$** | åˆå§‹æ ‡è¯† | $M_0(p_{s_0}) = 1$ |

### 3.2 å½¢å¼åŒ–è½¬æ¢å‡½æ•° / Formal Transformation Function

**å®šä¹‰ 3.1** (Kripkeç»“æ„åˆ°Petriç½‘è½¬æ¢å‡½æ•° / Kripke Structure to Petri Net Transformation Function)

ç»™å®šKripkeç»“æ„ $K = (S, S_0, R, L)$ï¼Œå®šä¹‰è½¬æ¢å‡½æ•° $\mathcal{T}_{Kripke \to PN}: \mathcal{M}_{Kripke} \to \mathcal{M}_{PN}$ï¼Œå…¶ä¸­ï¼š

$$\mathcal{T}_{Kripke \to PN}(K) = (P, T, F, M_0)$$

å…¶ä¸­ï¼š

- $P = \{p_s \mid s \in S\} \cup \{p_{s,p} \mid s \in S, p \in L(s)\}$ï¼šçŠ¶æ€åº“æ‰€å’Œå‘½é¢˜åº“æ‰€
- $T = \{t_{s,s'} \mid (s, s') \in R\}$ï¼šä¸ºæ¯ä¸ªè½¬æ¢åˆ›å»ºå˜è¿
- $F = \{(p_s, t_{s,s'}), (t_{s,s'}, p_{s'}) \mid (s, s') \in R\} \cup \{(p_s, p_{s,p}) \mid p \in L(s)\}$ï¼šæµå…³ç³»
- $M_0: P \to \mathbb{N}$ æ»¡è¶³ $\forall s_0 \in S_0: M_0(p_{s_0}) = 1$ ä¸”å…¶ä»–ä¸º0ï¼šåˆå§‹æ ‡è¯†

---

## 4. BÃ¼chiè‡ªåŠ¨æœºä¸Petriç½‘è½¬æ¢ / BÃ¼chi Automaton-Petri Net Transformation

### 4.1 è½¬æ¢è§„åˆ™ / Transformation Rules

| BÃ¼chiè‡ªåŠ¨æœºå…ƒç´  | Petriç½‘å…ƒç´  | è½¬æ¢è§„åˆ™ |
|---------------|-----------|---------|
| **çŠ¶æ€ $q \in Q$** | åº“æ‰€ $p_q$ | æ¯ä¸ªçŠ¶æ€å¯¹åº”ä¸€ä¸ªåº“æ‰€ |
| **è½¬ç§» $\delta(q, a) = Q'$** | å˜è¿ $t_{q,a,q'}$ | æ¯ä¸ªè½¬ç§»å¯¹åº”å˜è¿ |
| **åˆå§‹çŠ¶æ€ $q_0$** | åˆå§‹æ ‡è¯† | $M_0(p_{q_0}) = 1$ |
| **æ¥å—çŠ¶æ€ $q \in F$** | æ¥å—åº“æ‰€ | æ ‡è®°æ¥å—çŠ¶æ€å¯¹åº”çš„åº“æ‰€ |

### 4.2 å½¢å¼åŒ–è½¬æ¢å‡½æ•° / Formal Transformation Function

**å®šä¹‰ 4.1** (BÃ¼chiè‡ªåŠ¨æœºåˆ°Petriç½‘è½¬æ¢å‡½æ•° / BÃ¼chi Automaton to Petri Net Transformation Function)

ç»™å®šBÃ¼chiè‡ªåŠ¨æœº $BA = (Q, \Sigma, \delta, q_0, F)$ï¼Œå®šä¹‰è½¬æ¢å‡½æ•° $\mathcal{T}_{BA \to PN}: \mathcal{M}_{BA} \to \mathcal{M}_{PN}$ï¼Œå…¶ä¸­ï¼š

$$\mathcal{T}_{BA \to PN}(BA) = (P, T, F, M_0)$$

å…¶ä¸­ï¼š

- $P = \{p_q \mid q \in Q\}$ï¼šä¸ºæ¯ä¸ªçŠ¶æ€åˆ›å»ºåº“æ‰€
- $T = \{t_{q,a,q'} \mid q' \in \delta(q, a)\}$ï¼šä¸ºæ¯ä¸ªè½¬ç§»åˆ›å»ºå˜è¿
- $F = \{(p_q, t_{q,a,q'}), (t_{q,a,q'}, p_{q'}) \mid q' \in \delta(q, a)\}$ï¼šæµå…³ç³»
- $M_0: P \to \mathbb{N}$ æ»¡è¶³ $M_0(p_{q_0}) = 1$ ä¸”å…¶ä»–ä¸º0ï¼šåˆå§‹æ ‡è¯†

---

## 5. å½¢å¼åŒ–è¯æ˜ / Formal Proofs

### 5.1 LTS-Petriç½‘åŒæ¨¡æ‹Ÿç­‰ä»·æ€§ / LTS-Petri Net Bisimulation Equivalence

**å®šç† 5.1** (LTS-Petriç½‘è½¬æ¢åŒæ¨¡æ‹Ÿç­‰ä»·æ€§ / LTS-Petri Net Transformation Bisimulation Equivalence)

å¯¹äºLTS $LTS = (S, S_0, L, \to)$ å’Œè½¬æ¢å¾—åˆ°çš„Petriç½‘ $N = \mathcal{T}_{LTS \to PN}(LTS)$ï¼Œå­˜åœ¨å¼ºåŒæ¨¡æ‹Ÿå…³ç³» $\mathcal{R} \subseteq S \times \mathbb{N}^P$ï¼Œä½¿å¾—ï¼š

$$LTS \sim N$$

å…¶ä¸­ $\sim$ è¡¨ç¤ºå¼ºåŒæ¨¡æ‹Ÿç­‰ä»·ã€‚

**è¯æ˜**ï¼š

**æ­¥éª¤1ï¼šå®šä¹‰åŒæ¨¡æ‹Ÿå…³ç³»**

å®šä¹‰å…³ç³» $\mathcal{R} \subseteq S \times \mathbb{N}^P$ï¼š

$$(s, M) \in \mathcal{R} \iff M(p_s) = 1 \land \forall s' \in S \setminus \{s\}: M(p_{s'}) = 0$$

**æ­¥éª¤2ï¼šè¯æ˜åŒæ¨¡æ‹Ÿæ¡ä»¶**

å‡è®¾ $(s, M) \in \mathcal{R}$ ä¸” $(s, a, s') \in \to$ã€‚

æ ¹æ®è½¬æ¢å‡½æ•°å®šä¹‰ï¼Œå­˜åœ¨å˜è¿ $t_{s,a} \in T$ï¼Œä½¿å¾—ï¼š

- $(p_s, t_{s,a}) \in F$ï¼ˆè¾“å…¥å¼§ï¼‰
- $(t_{s,a}, p_{s'}) \in F$ï¼ˆè¾“å‡ºå¼§ï¼‰

ç”±äº $M(p_s) = 1$ ä¸”å…¶ä»–åº“æ‰€ä¸ºç©ºï¼Œå˜è¿ $t_{s,a}$ åœ¨æ ‡è¯† $M$ ä¸‹å¯è§¦å‘ã€‚

è§¦å‘åå¾—åˆ°æ ‡è¯† $M'$ï¼Œå…¶ä¸­ $M'(p_{s'}) = 1$ ä¸”å…¶ä»–åº“æ‰€ä¸ºç©ºã€‚

å› æ­¤ï¼Œ$(s', M') \in \mathcal{R}$ï¼Œä¸” $M[t_{s,a}\rangle M'$ã€‚

åä¹‹ï¼Œå¦‚æœ $M[t_{s,a}\rangle M'$ï¼Œåˆ™å­˜åœ¨ $(s, a, s') \in \to$ ä½¿å¾— $(s', M') \in \mathcal{R}$ã€‚

å› æ­¤ï¼Œ$\mathcal{R}$ æ˜¯å¼ºåŒæ¨¡æ‹Ÿå…³ç³»ï¼Œ$LTS \sim N$ã€‚$\square$

---

## 6. ä»£ç å®ç° / Code Implementation

### 6.1 LTSåˆ°Petriç½‘è½¬æ¢å™¨ / LTS to Petri Net Converter

```python
from typing import Dict, Set, Tuple, List, Optional
from dataclasses import dataclass

@dataclass
class LTS:
    """æ ‡è®°è½¬æ¢ç³»ç»Ÿ"""
    states: Set[str]
    initial_states: Set[str]
    labels: Set[str]
    transitions: Set[Tuple[str, str, str]]  # (source_state, label, target_state)

@dataclass
class PetriNet:
    """Petriç½‘"""
    places: Set[str]
    transitions: Set[str]
    flow_relation: Set[Tuple[str, str]]
    initial_marking: Dict[str, int]

class LTSToPetriNetConverter:
    """LTSåˆ°Petriç½‘è½¬æ¢å™¨ - å®Œæ•´å®ç°"""

    def convert(self, lts: LTS) -> PetriNet:
        """
        è½¬æ¢LTSåˆ°Petriç½‘

        å®ç°å®šä¹‰2.1çš„è½¬æ¢å‡½æ•°

        Args:
            lts: æ ‡è®°è½¬æ¢ç³»ç»Ÿ

        Returns:
            Petriç½‘
        """
        places = set()
        transitions = set()
        flow_relation = set()
        initial_marking = {}

        # æ­¥éª¤1ï¼šä¸ºæ¯ä¸ªçŠ¶æ€åˆ›å»ºåº“æ‰€ï¼ˆå®šä¹‰2.1ï¼šP = {p_s | s âˆˆ S}ï¼‰
        state_to_place = {}
        for state in lts.states:
            place = f"p_{state}"
            places.add(place)
            state_to_place[state] = place
            initial_marking[place] = 0

        # æ­¥éª¤2ï¼šè®¾ç½®åˆå§‹æ ‡è¯†ï¼ˆå®šä¹‰2.1ï¼šM_0(p_{s_0}) = 1ï¼‰
        for initial_state in lts.initial_states:
            initial_place = state_to_place[initial_state]
            initial_marking[initial_place] = 1

        # æ­¥éª¤3ï¼šä¸ºæ¯ä¸ªè½¬æ¢åˆ›å»ºå˜è¿ï¼ˆå®šä¹‰2.1ï¼šT = {t_{s,a} | (s, a, s') âˆˆ â†’}ï¼‰
        for source_state, label, target_state in lts.transitions:
            transition = f"t_{source_state}_{label}"
            transitions.add(transition)

            source_place = state_to_place[source_state]
            target_place = state_to_place[target_state]

            # åˆ›å»ºæµå…³ç³»ï¼ˆå®šä¹‰2.1ï¼šFï¼‰
            flow_relation.add((source_place, transition))
            flow_relation.add((transition, target_place))

        return PetriNet(
            places=places,
            transitions=transitions,
            flow_relation=flow_relation,
            initial_marking=initial_marking
        )
```

### 6.2 Kripkeç»“æ„åˆ°Petriç½‘è½¬æ¢å™¨ / Kripke Structure to Petri Net Converter

```python
@dataclass
class KripkeStructure:
    """Kripkeç»“æ„"""
    states: Set[str]
    initial_states: Set[str]
    transitions: Set[Tuple[str, str]]  # (source_state, target_state)
    labeling: Dict[str, Set[str]]  # state -> set of atomic propositions

class KripkeStructureToPetriNetConverter:
    """Kripkeç»“æ„åˆ°Petriç½‘è½¬æ¢å™¨ - å®Œæ•´å®ç°"""

    def convert(self, kripke: KripkeStructure) -> PetriNet:
        """
        è½¬æ¢Kripkeç»“æ„åˆ°Petriç½‘

        å®ç°å®šä¹‰3.1çš„è½¬æ¢å‡½æ•°

        Args:
            kripke: Kripkeç»“æ„

        Returns:
            Petriç½‘
        """
        places = set()
        transitions = set()
        flow_relation = set()
        initial_marking = {}

        # æ­¥éª¤1ï¼šåˆ›å»ºçŠ¶æ€åº“æ‰€å’Œå‘½é¢˜åº“æ‰€ï¼ˆå®šä¹‰3.1ï¼šPï¼‰
        state_to_place = {}
        for state in kripke.states:
            state_place = f"p_state_{state}"
            places.add(state_place)
            state_to_place[state] = state_place
            initial_marking[state_place] = 0

            # ä¸ºæ¯ä¸ªåŸå­å‘½é¢˜åˆ›å»ºå‘½é¢˜åº“æ‰€
            for prop in kripke.labeling.get(state, set()):
                prop_place = f"p_{state}_{prop}"
                places.add(prop_place)
                initial_marking[prop_place] = 0

        # æ­¥éª¤2ï¼šè®¾ç½®åˆå§‹æ ‡è¯†
        for initial_state in kripke.initial_states:
            initial_place = state_to_place[initial_state]
            initial_marking[initial_place] = 1

        # æ­¥éª¤3ï¼šä¸ºæ¯ä¸ªè½¬æ¢åˆ›å»ºå˜è¿ï¼ˆå®šä¹‰3.1ï¼šT = {t_{s,s'} | (s, s') âˆˆ R}ï¼‰
        for source_state, target_state in kripke.transitions:
            transition = f"t_{source_state}_{target_state}"
            transitions.add(transition)

            source_place = state_to_place[source_state]
            target_place = state_to_place[target_state]

            flow_relation.add((source_place, transition))
            flow_relation.add((transition, target_place))

        return PetriNet(
            places=places,
            transitions=transitions,
            flow_relation=flow_relation,
            initial_marking=initial_marking
        )
```

---

## 7. åº”ç”¨æ¡ˆä¾‹ / Application Cases

### 7.1 æ¨¡å‹æ£€æµ‹åº”ç”¨ / Model Checking Application

**æ¡ˆä¾‹æè¿°**ï¼šå°†ç³»ç»Ÿæ¨¡å‹è½¬æ¢ä¸ºPetriç½‘ï¼Œä½¿ç”¨Petriç½‘åˆ†æå·¥å…·è¿›è¡Œæ¨¡å‹æ£€æµ‹ã€‚

**ä¼˜åŠ¿**ï¼š

- å¯ä»¥ä½¿ç”¨Petriç½‘çš„å¯è¾¾æ€§åˆ†æ
- å¯ä»¥è¿›è¡Œæ­»é”æ£€æµ‹
- å¯ä»¥éªŒè¯æ—¶åºé€»è¾‘æ€§è´¨

### 7.2 åè®®éªŒè¯ / Protocol Verification

**æ¡ˆä¾‹æè¿°**ï¼šä½¿ç”¨LTSå»ºæ¨¡é€šä¿¡åè®®ï¼Œè½¬æ¢ä¸ºPetriç½‘è¿›è¡Œå½¢å¼åŒ–éªŒè¯ã€‚

**éªŒè¯æ€§è´¨**ï¼š

- åè®®æ­£ç¡®æ€§
- æ— æ­»é”
- æ¶ˆæ¯ä¼ é€’çš„å¯é æ€§

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¶é—´**: 2025å¹´1æœˆ
**ç»´æŠ¤è€…**: GraphNetWorkCommunicateé¡¹ç›®ç»„
