# Petriç½‘çš„æ‰§è¡Œè¯­ä¹‰ / Execution Semantics of Petri Nets

## ğŸ“š **æ¦‚è¿° / Overview**

æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»Petriç½‘çš„æ‰§è¡Œè¯­ä¹‰ï¼ŒåŒ…æ‹¬æ ‡è¯†ã€å˜è¿çš„å¯è§¦å‘æ€§ã€è§¦å‘è§„åˆ™ã€å¹¶å‘æ‰§è¡Œã€å†²çªå¤„ç†ã€æ‰§è¡Œè½¨è¿¹ç­‰æ ¸å¿ƒæ¦‚å¿µã€‚æ‰§è¡Œè¯­ä¹‰å®šä¹‰äº†Petriç½‘å¦‚ä½•ä»åˆå§‹çŠ¶æ€æ¼”åŒ–åˆ°å…¶ä»–çŠ¶æ€ï¼Œæ˜¯ç†è§£Petriç½‘åŠ¨æ€è¡Œä¸ºçš„åŸºç¡€ã€‚

---

## ğŸ“‘ **ç›®å½• / Table of Contents**

- [Petriç½‘çš„æ‰§è¡Œè¯­ä¹‰ / Execution Semantics of Petri Nets](#petriç½‘çš„æ‰§è¡Œè¯­ä¹‰--execution-semantics-of-petri-nets)
  - [ğŸ“š **æ¦‚è¿° / Overview**](#-æ¦‚è¿°--overview)
  - [ğŸ“‘ **ç›®å½• / Table of Contents**](#-ç›®å½•--table-of-contents)
  - [1. æ ‡è¯†ä¸çŠ¶æ€ / Marking and State](#1-æ ‡è¯†ä¸çŠ¶æ€--marking-and-state)
  - [2. å˜è¿çš„å¯è§¦å‘æ€§ / Enabling of Transitions](#2-å˜è¿çš„å¯è§¦å‘æ€§--enabling-of-transitions)
  - [3. å˜è¿çš„è§¦å‘ / Firing of Transitions](#3-å˜è¿çš„è§¦å‘--firing-of-transitions)
  - [4. çŠ¶æ€è½¬æ¢ç¤ºä¾‹ / State Transition Examples](#4-çŠ¶æ€è½¬æ¢ç¤ºä¾‹--state-transition-examples)
  - [5. å¹¶å‘æ‰§è¡Œ / Concurrent Execution](#5-å¹¶å‘æ‰§è¡Œ--concurrent-execution)
  - [6. å†²çªä¸å†²çªè§£å†³ / Conflict and Conflict Resolution](#6-å†²çªä¸å†²çªè§£å†³--conflict-and-conflict-resolution)
  - [7. æ‰§è¡Œè½¨è¿¹ / Execution Traces](#7-æ‰§è¡Œè½¨è¿¹--execution-traces)
  - [8. å¯è¾¾æ€§ / Reachability](#8-å¯è¾¾æ€§--reachability)

---

## 1. æ ‡è¯†ä¸çŠ¶æ€ / Marking and State

### 1.1 æ ‡è¯†çš„å®šä¹‰ / Definition of Marking

**å®šä¹‰ 1.3** (æ ‡è¯† / Marking)

Petriç½‘ $N = (P, T, F, W, M_0)$ çš„**æ ‡è¯†**ï¼ˆMarkingï¼‰æ˜¯ä¸€ä¸ªå‡½æ•°ï¼š
$$M: P \to \mathbb{N}$$

è¡¨ç¤ºæ¯ä¸ªåº“æ‰€ä¸­çš„ä»¤ç‰Œæ•°é‡ã€‚

**æ ‡è¯†çš„è¡¨ç¤ºæ–¹æ³•**ï¼š

1. **å‡½æ•°è¡¨ç¤º**ï¼š$M = \{p_1 \mapsto 2, p_2 \mapsto 0, p_3 \mapsto 1\}$
2. **å‘é‡è¡¨ç¤º**ï¼š$M = (2, 0, 1)$ï¼ˆå‡è®¾åº“æ‰€é¡ºåºä¸º $p_1, p_2, p_3$ï¼‰
3. **å¤šé‡é›†è¡¨ç¤º**ï¼š$M = 2 \cdot p_1 + 0 \cdot p_2 + 1 \cdot p_3$

### 1.2 åˆå§‹æ ‡è¯† / Initial Marking

**åˆå§‹æ ‡è¯†** $M_0$ æ˜¯Petriç½‘çš„èµ·å§‹çŠ¶æ€ï¼Œå®šä¹‰äº†ç³»ç»Ÿçš„åˆå§‹é…ç½®ã€‚

**ç¤ºä¾‹ 1.1** (åˆå§‹æ ‡è¯†)

è€ƒè™‘ä¸€ä¸ªç®€å•çš„Petriç½‘ï¼š

- åº“æ‰€ï¼š$P = \{p_1, p_2, p_3\}$
- åˆå§‹æ ‡è¯†ï¼š$M_0 = \{p_1 \mapsto 1, p_2 \mapsto 0, p_3 \mapsto 0\}$

è¿™è¡¨ç¤ºï¼š

- $p_1$ ä¸­æœ‰1ä¸ªä»¤ç‰Œ
- $p_2$ å’Œ $p_3$ ä¸­æ²¡æœ‰ä»¤ç‰Œ

### 1.3 æ ‡è¯†çš„å›¾å½¢è¡¨ç¤º / Graphical Representation of Marking

åœ¨Petriç½‘å›¾å½¢ä¸­ï¼Œæ ‡è¯†é€šè¿‡åº“æ‰€ä¸­çš„åœ†ç‚¹ï¼ˆä»¤ç‰Œï¼‰è¡¨ç¤ºï¼š

```
â—‹ (ç©ºåº“æ‰€ï¼ŒM(p) = 0)
â— (1ä¸ªä»¤ç‰Œï¼ŒM(p) = 1)
â—â— (2ä¸ªä»¤ç‰Œï¼ŒM(p) = 2)
â—â—â— (3ä¸ªä»¤ç‰Œï¼ŒM(p) = 3)
```

---

## 2. å˜è¿çš„å¯è§¦å‘æ€§ / Enabling of Transitions

### 2.1 å¯è§¦å‘æ€§çš„å®šä¹‰ / Definition of Enabling

**å®šä¹‰ 1.4** (å˜è¿çš„å¯è§¦å‘æ€§ / Enabling of Transitions)

åœ¨æ ‡è¯† $M$ ä¸‹ï¼Œå˜è¿ $t \in T$ **å¯è§¦å‘**ï¼ˆenabledï¼‰ï¼Œå½“ä¸”ä»…å½“ï¼š
$$\forall p \in \prescript{}{}{t}: M(p) \geq W(p, t)$$

å³ï¼Œå˜è¿ $t$ çš„æ‰€æœ‰è¾“å…¥åº“æ‰€ä¸­çš„ä»¤ç‰Œæ•°éƒ½**å¤§äºç­‰äº**ç›¸åº”è¾¹çš„æƒé‡ã€‚

### 2.2 å¯è§¦å‘æ€§çš„ç›´è§‚ç†è§£ / Intuitive Understanding

**å¯è§¦å‘æ€§çš„æ¡ä»¶**ï¼š

1. **æ‰€æœ‰è¾“å…¥åº“æ‰€éƒ½æœ‰è¶³å¤Ÿçš„ä»¤ç‰Œ**
2. **ä»¤ç‰Œæ•°é‡æ»¡è¶³æƒé‡è¦æ±‚**

**ç¤ºä¾‹ 2.1** (å¯è§¦å‘å˜è¿)

```mermaid
graph LR
    P1((P1<br/>â€¢)) -->|1| T1[T1]
    P2((P2<br/>â€¢)) -->|1| T1
    T1 -->|1| P3((P3))
```

- åˆå§‹æ ‡è¯†ï¼š$M_0 = \{P1 \mapsto 1, P2 \mapsto 1, P3 \mapsto 0\}$
- $T1$ çš„è¾“å…¥åº“æ‰€ï¼š$\prescript{}{}{T1} = \{P1, P2\}$
- æ£€æŸ¥ï¼š$M_0(P1) = 1 \geq 1$ âœ“ï¼Œ$M_0(P2) = 1 \geq 1$ âœ“
- **ç»“è®º**ï¼š$T1$ åœ¨ $M_0$ ä¸‹å¯è§¦å‘

**ç¤ºä¾‹ 2.2** (ä¸å¯è§¦å‘å˜è¿)

```mermaid
graph LR
    P1((P1<br/>â€¢)) -->|2| T1[T1]
    T1 -->|1| P2((P2))
```

- åˆå§‹æ ‡è¯†ï¼š$M_0 = \{P1 \mapsto 1, P2 \mapsto 0\}$
- $T1$ éœ€è¦ $P1$ ä¸­æœ‰è‡³å°‘2ä¸ªä»¤ç‰Œ
- æ£€æŸ¥ï¼š$M_0(P1) = 1 < 2$ âœ—
- **ç»“è®º**ï¼š$T1$ åœ¨ $M_0$ ä¸‹**ä¸å¯è§¦å‘**

### 2.3 å¤šä¸ªå˜è¿çš„å¯è§¦å‘æ€§ / Enabling of Multiple Transitions

åœ¨åŒä¸€ä¸ªæ ‡è¯†ä¸‹ï¼Œå¯èƒ½æœ‰å¤šä¸ªå˜è¿åŒæ—¶å¯è§¦å‘ã€‚

**ç¤ºä¾‹ 2.3** (å¤šä¸ªå¯è§¦å‘å˜è¿)

```mermaid
graph LR
    P1((P1<br/>â€¢)) -->|1| T1[T1]
    P2((P2<br/>â€¢)) -->|1| T2[T2]
    T1 -->|1| P3((P3))
    T2 -->|1| P4((P4))
```

- åˆå§‹æ ‡è¯†ï¼š$M_0 = \{P1 \mapsto 1, P2 \mapsto 1, P3 \mapsto 0, P4 \mapsto 0\}$
- $T1$ å’Œ $T2$ éƒ½**å¯è§¦å‘**ï¼ˆå®ƒä»¬ä¸å…±äº«è¾“å…¥åº“æ‰€ï¼‰
- å®ƒä»¬å¯ä»¥**å¹¶å‘æ‰§è¡Œ**

---

## 3. å˜è¿çš„è§¦å‘ / Firing of Transitions

### 3.1 è§¦å‘è§„åˆ™ / Firing Rule

**å®šä¹‰ 1.5** (å˜è¿çš„è§¦å‘ / Firing of Transitions)

å¦‚æœå˜è¿ $t$ åœ¨æ ‡è¯† $M$ ä¸‹å¯è§¦å‘ï¼Œé‚£ä¹ˆå®ƒå¯ä»¥**è§¦å‘**ï¼ˆfireï¼‰ï¼Œäº§ç”Ÿæ–°æ ‡è¯† $M'$ï¼š

å¯¹äºæ¯ä¸ªåº“æ‰€ $p \in P$ï¼š
$$M'(p) = M(p) - W(p, t) + W(t, p)$$

å…¶ä¸­ï¼š

- $W(p, t)$ï¼šä»åº“æ‰€ $p$ åˆ°å˜è¿ $t$ çš„æƒé‡ï¼ˆå¦‚æœ $(p, t) \notin F$ï¼Œåˆ™ $W(p, t) = 0$ï¼‰
- $W(t, p)$ï¼šä»å˜è¿ $t$ åˆ°åº“æ‰€ $p$ çš„æƒé‡ï¼ˆå¦‚æœ $(t, p) \notin F$ï¼Œåˆ™ $W(t, p) = 0$ï¼‰

### 3.2 è§¦å‘è¿‡ç¨‹çš„æ­¥éª¤ / Steps of Firing Process

å˜è¿ $t$ çš„è§¦å‘è¿‡ç¨‹åŒ…æ‹¬ä¸‰ä¸ªæ­¥éª¤ï¼š

1. **æ£€æŸ¥å¯è§¦å‘æ€§**ï¼šéªŒè¯æ‰€æœ‰è¾“å…¥åº“æ‰€éƒ½æœ‰è¶³å¤Ÿçš„ä»¤ç‰Œ
2. **æ¶ˆè€—ä»¤ç‰Œ**ï¼šä»æ¯ä¸ªè¾“å…¥åº“æ‰€ $p \in \prescript{}{}{t}$ ä¸­ç§»é™¤ $W(p, t)$ ä¸ªä»¤ç‰Œ
3. **äº§ç”Ÿä»¤ç‰Œ**ï¼šåœ¨æ¯ä¸ªè¾“å‡ºåº“æ‰€ $p \in t^{\bullet}$ ä¸­æ·»åŠ  $W(t, p)$ ä¸ªä»¤ç‰Œ

### 3.3 å½¢å¼åŒ–å®šä¹‰ / Formal Definition

**å®Œæ•´çš„å½¢å¼åŒ–å®šä¹‰**ï¼š

$$
M'(p) = \begin{cases}
M(p) - W(p, t) & \text{if } p \in \prescript{}{}{t} \setminus t^{\bullet} \\
M(p) + W(t, p) & \text{if } p \in t^{\bullet} \setminus \prescript{}{}{t} \\
M(p) - W(p, t) + W(t, p) & \text{if } p \in \prescript{}{}{t} \cap t^{\bullet} \\
M(p) & \text{otherwise}
\end{cases}
$$

**ç®€åŒ–å½¢å¼**ï¼ˆå½“åº“æ‰€ä¸åŒæ—¶æ˜¯è¾“å…¥å’Œè¾“å‡ºæ—¶ï¼‰ï¼š

$$
M'(p) = M(p) - W(p, t) + W(t, p)
$$

### 3.4 è§¦å‘è¡¨ç¤ºæ³• / Firing Notation

- **å•æ­¥è§¦å‘**ï¼š$M \xrightarrow{t} M'$ï¼ˆä»æ ‡è¯† $M$ è§¦å‘å˜è¿ $t$ å¾—åˆ°æ ‡è¯† $M'$ï¼‰
- **å¤šæ­¥è§¦å‘**ï¼š$M \xrightarrow{t_1 t_2 \cdots t_k} M'$ï¼ˆè§¦å‘åºåˆ—ï¼‰
- **å¯è¾¾æ€§**ï¼š$M \xrightarrow{*} M'$ï¼ˆå­˜åœ¨æŸä¸ªå˜è¿åºåˆ—ä½¿å¾— $M'$ ä» $M$ å¯è¾¾ï¼‰

---

## 4. çŠ¶æ€è½¬æ¢ç¤ºä¾‹ / State Transition Examples

### ç¤ºä¾‹ 4.1ï¼šç®€å•é¡ºåºè§¦å‘ / Simple Sequential Firing

**Petriç½‘ç»“æ„**ï¼š

```mermaid
graph LR
    P1((P1<br/>â€¢)) -->|1| T1[T1]
    T1 -->|1| P2((P2))
    P2 -->|1| T2[T2]
    T2 -->|1| P3((P3))
```

**åˆå§‹æ ‡è¯†**ï¼š$M_0 = \{P1 \mapsto 1, P2 \mapsto 0, P3 \mapsto 0\}$

**æ‰§è¡Œè¿‡ç¨‹**ï¼š

1. **æ­¥éª¤1ï¼šè§¦å‘ $T1$**
   - æ£€æŸ¥ï¼š$M_0(P1) = 1 \geq 1$ âœ“
   - æ¶ˆè€—ï¼š$P1$ ä¸­ç§»é™¤1ä¸ªä»¤ç‰Œ
   - äº§ç”Ÿï¼š$P2$ ä¸­æ·»åŠ 1ä¸ªä»¤ç‰Œ
   - ç»“æœï¼š$M_1 = \{P1 \mapsto 0, P2 \mapsto 1, P3 \mapsto 0\}$
   - è¡¨ç¤ºï¼š$M_0 \xrightarrow{T1} M_1$

2. **æ­¥éª¤2ï¼šè§¦å‘ $T2$**
   - æ£€æŸ¥ï¼š$M_1(P2) = 1 \geq 1$ âœ“
   - æ¶ˆè€—ï¼š$P2$ ä¸­ç§»é™¤1ä¸ªä»¤ç‰Œ
   - äº§ç”Ÿï¼š$P3$ ä¸­æ·»åŠ 1ä¸ªä»¤ç‰Œ
   - ç»“æœï¼š$M_2 = \{P1 \mapsto 0, P2 \mapsto 0, P3 \mapsto 1\}$
   - è¡¨ç¤ºï¼š$M_1 \xrightarrow{T2} M_2$

**å®Œæ•´æ‰§è¡Œè½¨è¿¹**ï¼š$M_0 \xrightarrow{T1} M_1 \xrightarrow{T2} M_2$

### ç¤ºä¾‹ 4.2ï¼šæƒé‡å¤§äº1çš„è§¦å‘ / Firing with Weight > 1

**Petriç½‘ç»“æ„**ï¼š

```mermaid
graph LR
    P1((P1<br/>â€¢â€¢)) -->|2| T1[T1]
    T1 -->|1| P2((P2))
```

**åˆå§‹æ ‡è¯†**ï¼š$M_0 = \{P1 \mapsto 2, P2 \mapsto 0\}$

**æ‰§è¡Œè¿‡ç¨‹**ï¼š

1. **è§¦å‘ $T1$**
   - æ£€æŸ¥ï¼š$M_0(P1) = 2 \geq 2$ âœ“
   - æ¶ˆè€—ï¼š$P1$ ä¸­ç§»é™¤2ä¸ªä»¤ç‰Œ
   - äº§ç”Ÿï¼š$P2$ ä¸­æ·»åŠ 1ä¸ªä»¤ç‰Œ
   - ç»“æœï¼š$M_1 = \{P1 \mapsto 0, P2 \mapsto 1\}$
   - è¡¨ç¤ºï¼š$M_0 \xrightarrow{T1} M_1$

**æ³¨æ„**ï¼šæƒé‡ä¸º2æ„å‘³ç€éœ€è¦æ¶ˆè€—2ä¸ªä»¤ç‰Œï¼Œä½†åªäº§ç”Ÿ1ä¸ªä»¤ç‰Œã€‚

### ç¤ºä¾‹ 4.3ï¼šä¸€ä¸ªå˜è¿å¤šä¸ªè¾“å‡º / One Transition Multiple Outputs

**Petriç½‘ç»“æ„**ï¼š

```mermaid
graph LR
    P1((P1<br/>â€¢)) -->|1| T1[T1]
    T1 -->|1| P2((P2))
    T1 -->|1| P3((P3))
    T1 -->|1| P4((P4))
```

**åˆå§‹æ ‡è¯†**ï¼š$M_0 = \{P1 \mapsto 1, P2 \mapsto 0, P3 \mapsto 0, P4 \mapsto 0\}$

**æ‰§è¡Œè¿‡ç¨‹**ï¼š

1. **è§¦å‘ $T1$**
   - æ£€æŸ¥ï¼š$M_0(P1) = 1 \geq 1$ âœ“
   - æ¶ˆè€—ï¼š$P1$ ä¸­ç§»é™¤1ä¸ªä»¤ç‰Œ
   - äº§ç”Ÿï¼š$P2$ã€$P3$ã€$P4$ ä¸­å„æ·»åŠ 1ä¸ªä»¤ç‰Œ
   - ç»“æœï¼š$M_1 = \{P1 \mapsto 0, P2 \mapsto 1, P3 \mapsto 1, P4 \mapsto 1\}$
   - è¡¨ç¤ºï¼š$M_0 \xrightarrow{T1} M_1$

**ç‰¹ç‚¹**ï¼šä¸€ä¸ªå˜è¿å¯ä»¥åŒæ—¶å‘å¤šä¸ªåº“æ‰€äº§ç”Ÿä»¤ç‰Œï¼Œå®ç°**åˆ†æ”¯**ã€‚

### ç¤ºä¾‹ 4.4ï¼šå¤šä¸ªè¾“å…¥åº“æ‰€ / Multiple Input Places

**Petriç½‘ç»“æ„**ï¼š

```mermaid
graph LR
    P1((P1<br/>â€¢)) -->|1| T1[T1]
    P2((P2<br/>â€¢)) -->|1| T1
    P3((P3<br/>â€¢)) -->|1| T1
    T1 -->|1| P4((P4))
```

**åˆå§‹æ ‡è¯†**ï¼š$M_0 = \{P1 \mapsto 1, P2 \mapsto 1, P3 \mapsto 1, P4 \mapsto 0\}$

**æ‰§è¡Œè¿‡ç¨‹**ï¼š

1. **è§¦å‘ $T1$**
   - æ£€æŸ¥ï¼š
     - $M_0(P1) = 1 \geq 1$ âœ“
     - $M_0(P2) = 1 \geq 1$ âœ“
     - $M_0(P3) = 1 \geq 1$ âœ“
   - æ¶ˆè€—ï¼š$P1$ã€$P2$ã€$P3$ ä¸­å„ç§»é™¤1ä¸ªä»¤ç‰Œ
   - äº§ç”Ÿï¼š$P4$ ä¸­æ·»åŠ 1ä¸ªä»¤ç‰Œ
   - ç»“æœï¼š$M_1 = \{P1 \mapsto 0, P2 \mapsto 0, P3 \mapsto 0, P4 \mapsto 1\}$
   - è¡¨ç¤ºï¼š$M_0 \xrightarrow{T1} M_1$

**ç‰¹ç‚¹**ï¼šä¸€ä¸ªå˜è¿éœ€è¦å¤šä¸ªè¾“å…¥åº“æ‰€éƒ½æœ‰ä»¤ç‰Œæ‰èƒ½è§¦å‘ï¼Œå®ç°**åŒæ­¥**ã€‚

### ç¤ºä¾‹ 4.5ï¼šè‡ªå¾ªç¯ / Self-Loop

**Petriç½‘ç»“æ„**ï¼š

```mermaid
graph LR
    P1((P1<br/>â€¢)) -->|1| T1[T1]
    T1 -->|1| P1
```

**åˆå§‹æ ‡è¯†**ï¼š$M_0 = \{P1 \mapsto 1\}$

**æ‰§è¡Œè¿‡ç¨‹**ï¼š

1. **è§¦å‘ $T1$**
   - æ£€æŸ¥ï¼š$M_0(P1) = 1 \geq 1$ âœ“
   - æ¶ˆè€—ï¼š$P1$ ä¸­ç§»é™¤1ä¸ªä»¤ç‰Œï¼ˆ$P1$ å˜ä¸º0ï¼‰
   - äº§ç”Ÿï¼š$P1$ ä¸­æ·»åŠ 1ä¸ªä»¤ç‰Œï¼ˆ$P1$ å˜ä¸º1ï¼‰
   - ç»“æœï¼š$M_1 = \{P1 \mapsto 1\}$ï¼ˆä¸ $M_0$ ç›¸åŒï¼‰
   - è¡¨ç¤ºï¼š$M_0 \xrightarrow{T1} M_0$

**ç‰¹ç‚¹**ï¼šè‡ªå¾ªç¯ä¸æ”¹å˜æ ‡è¯†ï¼Œä½†å¯ä»¥è¡¨ç¤º**é‡å¤æ‰§è¡Œ**ã€‚

---

## 5. å¹¶å‘æ‰§è¡Œ / Concurrent Execution

### 5.1 å¹¶å‘çš„å®šä¹‰ / Definition of Concurrency

**å®šä¹‰ 5.1** (å¹¶å‘å˜è¿ / Concurrent Transitions)

ä¸¤ä¸ªå˜è¿ $t_1$ å’Œ $t_2$ åœ¨æ ‡è¯† $M$ ä¸‹**å¹¶å‘**ï¼ˆconcurrentï¼‰ï¼Œå¦‚æœï¼š

1. ä¸¤è€…éƒ½åœ¨ $M$ ä¸‹å¯è§¦å‘
2. å®ƒä»¬ä¸å…±äº«è¾“å…¥åº“æ‰€ï¼š$\prescript{}{}{t_1} \cap \prescript{}{}{t_2} = \emptyset$
3. è§¦å‘ä¸€ä¸ªä¸ä¼šä½¿å¦ä¸€ä¸ªä¸å¯è§¦å‘

### 5.2 å¹¶å‘æ‰§è¡Œçš„ç¤ºä¾‹ / Example of Concurrent Execution

**Petriç½‘ç»“æ„**ï¼š

```mermaid
graph LR
    P1((P1<br/>â€¢)) -->|1| T1[T1]
    P2((P2<br/>â€¢)) -->|1| T2[T2]
    T1 -->|1| P3((P3))
    T2 -->|1| P4((P4))
```

**åˆå§‹æ ‡è¯†**ï¼š$M_0 = \{P1 \mapsto 1, P2 \mapsto 1, P3 \mapsto 0, P4 \mapsto 0\}$

**åˆ†æ**ï¼š

- $T1$ å’Œ $T2$ éƒ½å¯åœ¨ $M_0$ ä¸‹è§¦å‘
- å®ƒä»¬ä¸å…±äº«è¾“å…¥åº“æ‰€ï¼ˆ$\prescript{}{}{T1} = \{P1\}$ï¼Œ$\prescript{}{}{T2} = \{P2\}$ï¼‰
- **ç»“è®º**ï¼š$T1$ å’Œ $T2$ å¯ä»¥**å¹¶å‘æ‰§è¡Œ**

**å¯èƒ½çš„æ‰§è¡Œé¡ºåº**ï¼š

1. $M_0 \xrightarrow{T1} M_1 \xrightarrow{T2} M_2$
2. $M_0 \xrightarrow{T2} M_1' \xrightarrow{T1} M_2$
3. $M_0 \xrightarrow{\{T1, T2\}} M_2$ï¼ˆå¹¶å‘è§¦å‘ï¼Œä¸€æ­¥å®Œæˆï¼‰

**æœ€ç»ˆç»“æœ**ï¼š$M_2 = \{P1 \mapsto 0, P2 \mapsto 0, P3 \mapsto 1, P4 \mapsto 1\}$

**æ³¨æ„**ï¼šæ— è®ºæ‰§è¡Œé¡ºåºå¦‚ä½•ï¼Œæœ€ç»ˆç»“æœç›¸åŒï¼ˆå› ä¸ºä¸å…±äº«èµ„æºï¼‰ã€‚

### 5.3 çœŸå¹¶å‘è¯­ä¹‰ / True Concurrency Semantics

Petriç½‘æ”¯æŒ**çœŸå¹¶å‘**ï¼ˆtrue concurrencyï¼‰ï¼Œå³å¤šä¸ªå˜è¿å¯ä»¥**åŒæ—¶**è§¦å‘ï¼Œè€Œä¸éœ€è¦äº¤é”™æ‰§è¡Œã€‚

**çœŸå¹¶å‘ vs äº¤é”™å¹¶å‘**ï¼š

- **çœŸå¹¶å‘**ï¼š$M \xrightarrow{\{t_1, t_2\}} M'$ï¼ˆåŒæ—¶è§¦å‘ï¼‰
- **äº¤é”™å¹¶å‘**ï¼š$M \xrightarrow{t_1} M_1 \xrightarrow{t_2} M'$ æˆ– $M \xrightarrow{t_2} M_1' \xrightarrow{t_1} M'$ï¼ˆé¡ºåºè§¦å‘ï¼‰

åœ¨Petriç½‘ä¸­ï¼ŒçœŸå¹¶å‘å’Œäº¤é”™å¹¶å‘åœ¨ç»“æœä¸Šæ˜¯ç­‰ä»·çš„ï¼ˆå½“å˜è¿ä¸å†²çªæ—¶ï¼‰ã€‚

---

## 6. å†²çªä¸å†²çªè§£å†³ / Conflict and Conflict Resolution

### 6.1 å†²çªçš„å®šä¹‰ / Definition of Conflict

**å®šä¹‰ 6.1** (å†²çª / Conflict)

ä¸¤ä¸ªå˜è¿ $t_1$ å’Œ $t_2$ åœ¨æ ‡è¯† $M$ ä¸‹**å†²çª**ï¼ˆconflictï¼‰ï¼Œå¦‚æœï¼š

1. ä¸¤è€…éƒ½åœ¨ $M$ ä¸‹å¯è§¦å‘
2. å®ƒä»¬å…±äº«è¾“å…¥åº“æ‰€ï¼š$\prescript{}{}{t_1} \cap \prescript{}{}{t_2} \neq \emptyset$
3. è§¦å‘ä¸€ä¸ªä¼šä½¿å¦ä¸€ä¸ªä¸å¯è§¦å‘ï¼ˆå› ä¸ºå…±äº«åº“æ‰€çš„ä»¤ç‰Œä¸è¶³ï¼‰

### 6.2 å†²çªçš„ç¤ºä¾‹ / Example of Conflict

**Petriç½‘ç»“æ„**ï¼š

```mermaid
graph LR
    P1((P1<br/>â€¢)) -->|1| T1[T1]
    P1 -->|1| T2[T2]
    T1 -->|1| P2((P2))
    T2 -->|1| P3((P3))
```

**åˆå§‹æ ‡è¯†**ï¼š$M_0 = \{P1 \mapsto 1, P2 \mapsto 0, P3 \mapsto 0\}$

**åˆ†æ**ï¼š

- $T1$ å’Œ $T2$ éƒ½å¯åœ¨ $M_0$ ä¸‹è§¦å‘
- å®ƒä»¬å…±äº«è¾“å…¥åº“æ‰€ $P1$ï¼š$\prescript{}{}{T1} \cap \prescript{}{}{T2} = \{P1\}$
- $P1$ åªæœ‰1ä¸ªä»¤ç‰Œï¼Œåªèƒ½æ»¡è¶³ä¸€ä¸ªå˜è¿
- **ç»“è®º**ï¼š$T1$ å’Œ $T2$ **å†²çª**

**å¯èƒ½çš„æ‰§è¡Œ**ï¼š

- é€‰æ‹©1ï¼š$M_0 \xrightarrow{T1} M_1 = \{P1 \mapsto 0, P2 \mapsto 1, P3 \mapsto 0\}$ï¼ˆ$T2$ ä¸å†å¯è§¦å‘ï¼‰
- é€‰æ‹©2ï¼š$M_0 \xrightarrow{T2} M_1' = \{P1 \mapsto 0, P2 \mapsto 0, P3 \mapsto 1\}$ï¼ˆ$T1$ ä¸å†å¯è§¦å‘ï¼‰

**æ³¨æ„**ï¼šå†²çªå¿…é¡»**éç¡®å®šæ€§åœ°è§£å†³**ï¼Œä¸èƒ½åŒæ—¶è§¦å‘ä¸¤ä¸ªå†²çªçš„å˜è¿ã€‚

### 6.3 å†²çªè§£å†³ç­–ç•¥ / Conflict Resolution Strategies

#### 6.3.1 éç¡®å®šæ€§é€‰æ‹© / Nondeterministic Choice

**é»˜è®¤ç­–ç•¥**ï¼šéšæœºæˆ–éç¡®å®šæ€§åœ°é€‰æ‹©å…¶ä¸­ä¸€ä¸ªå˜è¿è§¦å‘ã€‚

**é€‚ç”¨åœºæ™¯**ï¼š

- ç³»ç»Ÿè®¾è®¡é˜¶æ®µï¼Œæ¢ç´¢æ‰€æœ‰å¯èƒ½çš„è¡Œä¸º
- æ¨¡å‹æ£€æµ‹ï¼ŒéªŒè¯æ‰€æœ‰å¯èƒ½çš„æ‰§è¡Œè·¯å¾„

#### 6.3.2 ä¼˜å…ˆçº§ç­–ç•¥ / Priority Strategy

**æ–¹æ³•**ï¼šä¸ºå˜è¿åˆ†é…ä¼˜å…ˆçº§ï¼Œé«˜ä¼˜å…ˆçº§çš„å˜è¿ä¼˜å…ˆè§¦å‘ã€‚

**å®ç°**ï¼š

- åœ¨Petriç½‘æ‰©å±•ä¸­æ·»åŠ ä¼˜å…ˆçº§å±æ€§
- å†²çªæ—¶é€‰æ‹©ä¼˜å…ˆçº§æœ€é«˜çš„å˜è¿

**é€‚ç”¨åœºæ™¯**ï¼š

- å®æ—¶ç³»ç»Ÿï¼Œéœ€è¦æ˜ç¡®çš„ä¼˜å…ˆçº§
- èµ„æºè°ƒåº¦ï¼Œéœ€è¦ä¼˜å…ˆçº§æ§åˆ¶

#### 6.3.3 å®ˆå«æ¡ä»¶ / Guard Conditions

**æ–¹æ³•**ï¼šä¸ºå˜è¿æ·»åŠ å®ˆå«æ¡ä»¶ï¼ˆguard conditionsï¼‰ï¼Œåªæœ‰æ¡ä»¶æ»¡è¶³æ—¶æ‰å¯è§¦å‘ã€‚

**å®ç°**ï¼š

- åœ¨ç€è‰²Petriç½‘æˆ–é«˜å±‚æ¬¡Petriç½‘ä¸­å®ç°
- å®ˆå«æ¡ä»¶åŸºäºä»¤ç‰Œçš„å€¼æˆ–ç³»ç»ŸçŠ¶æ€

**é€‚ç”¨åœºæ™¯**ï¼š

- éœ€è¦åŸºäºæ•°æ®çš„é€‰æ‹©
- æ¡ä»¶åˆ†æ”¯å»ºæ¨¡

#### 6.3.4 æ¦‚ç‡é€‰æ‹© / Probabilistic Selection

**æ–¹æ³•**ï¼šä¸ºå†²çªçš„å˜è¿åˆ†é…æ¦‚ç‡ï¼Œæ ¹æ®æ¦‚ç‡éšæœºé€‰æ‹©ã€‚

**å®ç°**ï¼š

- åœ¨éšæœºPetriç½‘ä¸­å®ç°
- æ¯ä¸ªå˜è¿æœ‰è§¦å‘æ¦‚ç‡

**é€‚ç”¨åœºæ™¯**ï¼š

- éšæœºç³»ç»Ÿå»ºæ¨¡
- æ€§èƒ½åˆ†æ

---

## 7. æ‰§è¡Œè½¨è¿¹ / Execution Traces

### 7.1 æ‰§è¡Œè½¨è¿¹çš„å®šä¹‰ / Definition of Execution Trace

**å®šä¹‰ 7.1** (æ‰§è¡Œè½¨è¿¹ / Execution Trace)

Petriç½‘çš„ä¸€ä¸ª**æ‰§è¡Œè½¨è¿¹**ï¼ˆexecution traceï¼‰æ˜¯ä¸€ä¸ªåºåˆ—ï¼š
$$\sigma = M_0 \xrightarrow{t_1} M_1 \xrightarrow{t_2} M_2 \xrightarrow{t_3} \cdots \xrightarrow{t_n} M_n$$

å…¶ä¸­æ¯ä¸ª $M_i \xrightarrow{t_{i+1}} M_{i+1}$ æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„çŠ¶æ€è½¬æ¢ã€‚

### 7.2 æ‰§è¡Œè½¨è¿¹çš„è¡¨ç¤º / Representation of Execution Traces

#### 7.2.1 å˜è¿åºåˆ—è¡¨ç¤º / Transition Sequence Representation

**è¡¨ç¤º**ï¼š$\sigma = t_1 t_2 t_3 \cdots t_n$

**å«ä¹‰**ï¼šä¾æ¬¡è§¦å‘å˜è¿ $t_1, t_2, \ldots, t_n$ã€‚

#### 7.2.2 çŠ¶æ€åºåˆ—è¡¨ç¤º / State Sequence Representation

**è¡¨ç¤º**ï¼š$\sigma = M_0 M_1 M_2 \cdots M_n$

**å«ä¹‰**ï¼šçŠ¶æ€ä» $M_0$ ä¾æ¬¡è½¬æ¢åˆ° $M_n$ã€‚

#### 7.2.3 å®Œæ•´è½¨è¿¹è¡¨ç¤º / Complete Trace Representation

**è¡¨ç¤º**ï¼š$\sigma = M_0 \xrightarrow{t_1} M_1 \xrightarrow{t_2} M_2 \xrightarrow{t_3} \cdots \xrightarrow{t_n} M_n$

**å«ä¹‰**ï¼šåŒ…å«æ‰€æœ‰çŠ¶æ€å’Œå˜è¿çš„å®Œæ•´ä¿¡æ¯ã€‚

### 7.3 æ‰§è¡Œè½¨è¿¹ç¤ºä¾‹ / Example of Execution Trace

**Petriç½‘ç»“æ„**ï¼š

```mermaid
graph LR
    P1((P1<br/>â€¢)) -->|1| T1[T1]
    T1 -->|1| P2((P2))
    P2 -->|1| T2[T2]
    T2 -->|1| P3((P3))
```

**åˆå§‹æ ‡è¯†**ï¼š$M_0 = \{P1 \mapsto 1, P2 \mapsto 0, P3 \mapsto 0\}$

**æ‰§è¡Œè½¨è¿¹**ï¼š

1. **å˜è¿åºåˆ—**ï¼š$\sigma = T1 T2$
2. **çŠ¶æ€åºåˆ—**ï¼š$\sigma = M_0 M_1 M_2$ï¼Œå…¶ä¸­ï¼š
   - $M_0 = \{P1 \mapsto 1, P2 \mapsto 0, P3 \mapsto 0\}$
   - $M_1 = \{P1 \mapsto 0, P2 \mapsto 1, P3 \mapsto 0\}$ï¼ˆè§¦å‘ $T1$ åï¼‰
   - $M_2 = \{P1 \mapsto 0, P2 \mapsto 0, P3 \mapsto 1\}$ï¼ˆè§¦å‘ $T2$ åï¼‰
3. **å®Œæ•´è½¨è¿¹**ï¼š$M_0 \xrightarrow{T1} M_1 \xrightarrow{T2} M_2$

### 7.4 æ‰§è¡Œè½¨è¿¹çš„åˆ†æ / Analysis of Execution Traces

#### 7.4.1 å¯è¾¾æ€§åˆ†æ / Reachability Analysis

é€šè¿‡æ‰§è¡Œè½¨è¿¹å¯ä»¥åˆ†æï¼š

- å“ªäº›çŠ¶æ€å¯è¾¾
- å“ªäº›çŠ¶æ€ä¸å¯è¾¾
- åˆ°è¾¾æŸä¸ªçŠ¶æ€éœ€è¦å“ªäº›å˜è¿åºåˆ—

#### 7.4.2 æ­»é”æ£€æµ‹ / Deadlock Detection

é€šè¿‡æ‰§è¡Œè½¨è¿¹å¯ä»¥æ£€æµ‹ï¼š

- æ˜¯å¦å­˜åœ¨æ­»é”çŠ¶æ€ï¼ˆæ²¡æœ‰å¯è§¦å‘å˜è¿ï¼‰
- å¯¼è‡´æ­»é”çš„å˜è¿åºåˆ—

#### 7.4.3 æ´»æ€§åˆ†æ / Liveness Analysis

é€šè¿‡æ‰§è¡Œè½¨è¿¹å¯ä»¥åˆ†æï¼š

- å“ªäº›å˜è¿å¯ä»¥æ— é™æ¬¡è§¦å‘
- å“ªäº›å˜è¿å¯èƒ½æ°¸è¿œæ— æ³•è§¦å‘

---

## 8. å¯è¾¾æ€§ / Reachability

### 8.1 å¯è¾¾æ€§çš„å®šä¹‰ / Definition of Reachability

**å®šä¹‰ 1.6** (å¯è¾¾æ€§ / Reachability)

æ ‡è¯† $M'$ ä»æ ‡è¯† $M$ **å¯è¾¾**ï¼ˆreachableï¼‰ï¼Œè®°ä½œ $M \xrightarrow{*} M'$ï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªå˜è¿åºåˆ— $t_1, t_2, \ldots, t_k$ï¼Œä½¿å¾—ï¼š
$$M \xrightarrow{t_1} M_1 \xrightarrow{t_2} M_2 \xrightarrow{t_3} \cdots \xrightarrow{t_k} M'$$

### 8.2 å¯è¾¾é›† / Reachability Set

**å®šä¹‰ 8.1** (å¯è¾¾é›† / Reachability Set)

Petriç½‘ $N$ åœ¨åˆå§‹æ ‡è¯† $M_0$ ä¸‹çš„**å¯è¾¾é›†**ï¼ˆReachability Setï¼‰å®šä¹‰ä¸ºï¼š
$$R(N, M_0) = \{M \mid M_0 \xrightarrow{*} M\}$$

å³æ‰€æœ‰ä»åˆå§‹æ ‡è¯†å¯è¾¾çš„æ ‡è¯†é›†åˆã€‚

### 8.3 å¯è¾¾æ€§å›¾ / Reachability Graph

**å®šä¹‰ 8.2** (å¯è¾¾æ€§å›¾ / Reachability Graph)

Petriç½‘çš„å¯è¾¾æ€§å›¾ï¼ˆReachability Graphï¼‰æ˜¯ä¸€ä¸ªæœ‰å‘å›¾ $RG = (V, E)$ï¼Œå…¶ä¸­ï¼š

- $V = R(N, M_0)$ï¼šé¡¶ç‚¹é›†ï¼Œæ‰€æœ‰å¯è¾¾æ ‡è¯†
- $E = \{(M, M', t) \mid M \xrightarrow{t} M'\}$ï¼šè¾¹é›†ï¼Œæ ‡è¯†è½¬æ¢

### 8.4 å¯è¾¾æ€§åˆ†æçš„åº”ç”¨ / Applications of Reachability Analysis

1. **æ€§è´¨éªŒè¯**ï¼šéªŒè¯ç³»ç»Ÿæ˜¯å¦æ»¡è¶³æŸäº›æ€§è´¨ï¼ˆå¦‚å®‰å…¨æ€§ã€æ´»æ€§ï¼‰
2. **æ­»é”æ£€æµ‹**ï¼šæ£€æŸ¥æ˜¯å¦å­˜åœ¨æ­»é”çŠ¶æ€
3. **è¦†ç›–æ€§åˆ†æ**ï¼šæ£€æŸ¥æ‰€æœ‰çŠ¶æ€æ˜¯å¦éƒ½è¢«è®¿é—®
4. **æ¨¡å‹æ£€æµ‹**ï¼šéªŒè¯æ—¶åºé€»è¾‘æ€§è´¨

---

## ğŸ“š **å‚è€ƒæ–‡çŒ® / References**

1. Reisig, W. (2013). *Understanding Petri Nets: Modeling Techniques, Analysis Methods, Case Studies*. Springer.

2. Murata, T. (1989). Petri nets: Properties, analysis and applications. *Proceedings of the IEEE*, 77(4), 541-580.

3. van der Aalst, W. M. P. (1998). The application of Petri nets to workflow management. *The Journal of Circuits, Systems and Computers*, 8(01), 21-66.

---

**æ–‡æ¡£ç‰ˆæœ¬**: v2.0
**åˆ›å»ºæ—¶é—´**: 2025å¹´1æœˆ
**æœ€åæ›´æ–°**: 2025å¹´1æœˆ
**è´¨é‡ç­‰çº§**: â­â­â­â­â­ äº”æ˜Ÿçº§
**å­—æ•°ç»Ÿè®¡**: çº¦6000å­—
