# 算法选择认知路径 / Algorithm Selection Cognitive Path

## 📚 概述 / Overview

面向三大理论场景（Petri网分析、动态图分析、拓扑/TDA），给出可操作的算法选择流程、文字决策树与输出物。

---

## 🎯 判断流程（简版）

1) **目标类型**
   - 形式化验证/可达性/活性 → Petri网分析族
   - 时序追踪/大规模流式 → 动态图增量/近似
   - 形状/循环/稳健特征 → 拓扑/TDA（持久同调、Hodge、Mapper）
2) **规模与实时性**
   - 节点/事件 > 1e5 且流式 → 增量/采样/近似优先
   - 中小规模、需精确 → 精确算法/模型检验
3) **数据形态**
   - 事件日志/并发语义 → Petri网（可达、S/T不变量、展开）
   - 时序边/调用链 → 动态图（时间尊重路径、谱演化、社区/中心性增量）
   - 点云/高维分布 → TDA（过滤+持久条带），或谱/Hodge
4) **约束与成本**
   - 延迟严格 → 增量最短路/中心性、流式检测、轻量谱近似
   - 资源受限 → 抽样+Sketch；子图切片；压缩状态空间
5) **结果需求**
   - 可证明 → 模型检验/不变量/证明树
   - 可观察 → 流式指标/谱漂移/社区演化
   - 可视化 → 持久图/Mapper/依赖图

---

## 🔀 决策树（文字版）

```text
目标？
├─ 形式化验证 → Petri网：可达/活性/有界性；展开/覆盖树；S/T不变量
├─ 时序追踪/流式 → 动态图：时间尊重路径、增量PageRank/最短路、谱漂移
└─ 形状/循环 → TDA：过滤构造 + 持久同调；Hodge流分解；Mapper摘要

规模/实时性？
├─ >1e5 & 流式 → 增量/近似/采样（图）；轻量持久同调或谱近似
└─ 中小规模 → 精确算法 / 模型检验

数据形态？
├─ 事件日志/并发 → Petri网
├─ 时序边/调用链 → 动态图
└─ 点云/高维分布 → TDA

输出需求？
├─ 可证明 → 模型检验/不变量/证明树
├─ 可观察 → 流式指标/谱/社区
└─ 可视化 → 持久图/Mapper/依赖图
```

---

## 🧭 决策树（Mermaid）

```mermaid
flowchart TD
    A[目标类型?] -->|形式化验证| P[Petri网算法\n可达/活性/有界性\n展开/覆盖树/S,T不变量]
    A -->|时序追踪/流式| G[动态图算法\n时间尊重路径\n增量最短路/PageRank/谱漂移]
    A -->|形状/循环| T[TDA/拓扑\n过滤+持久同调\nHodge/Mapper]

    S[规模/实时性?] -->|>1e5 & 流式| INC[增量/近似/采样\n轻量谱/持久同调]
    S -->|中小规模| EXACT[精确算法/模型检验]

    D[数据形态?] -->|事件日志/并发| P
    D -->|时序边/调用链| G
    D -->|点云/高维| T

    O[输出需求?] -->|可证明| P
    O -->|可观察| G
    O -->|可视化| T

    P --> OUTP[输出: 证明/不变量/可达图]
    G --> OUTG[输出: 流式指标/谱/社区演化]
    T --> OUTT[输出: 持久图/Mapper/循环洞]
```

---

## 📦 输出物

- 选择说明与权衡表：算法类别、复杂度、精度/近似、数据需求
- 推荐算法清单：Petri网（可达图/覆盖树/展开/S/T不变量/CTL/LTL）；动态图（增量最短路、增量PageRank、社区追踪、谱漂移检测）；TDA（持久同调、Hodge、Mapper）
- 工具链映射：验证（CPN/TLA+/Spin）、流式（Flink/Kafka+NetworkX/PyG）、TDA（GUDHI/Ripser/giotto-tda、KeplerMapper）
- 后续动作：数据准备、参数设定、评估指标（精度/延迟/内存）

---

## ✅ 待补充

- Mermaid决策树模板
- 典型场景对照：死锁检测 vs 副本拓扑监测 vs 漂移检测

---

## 🧪 典型场景示例（快照）

- **死锁检测/预防**：Petri网可达/活性/有界性；S/T不变量；需要时用展开；小规模可精确，规模大可借助部分序规约。
- **副本拓扑监测（分布式）**：动态图增量最短路/中心性、谱漂移；流式（Flink/Kafka）+ 图索引；韧性可用持久同调或最小割。
- **分布漂移检测（AI/数据管线）**：TDA 持久同调/Mapper，或谱变化；实时性要求高时可用降采样+轻量条带近似。
