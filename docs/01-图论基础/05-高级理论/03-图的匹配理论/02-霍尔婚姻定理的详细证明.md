# 霍尔婚姻定理的详细证明 / Detailed Proof of Hall's Marriage Theorem

## 📚 **概述 / Overview**

本文档介绍霍尔婚姻定理的详细证明。霍尔婚姻定理是二分图匹配理论中的经典结果，给出了存在完美匹配的充要条件。

---

## 📑 **目录 / Table of Contents**

- [霍尔婚姻定理的详细证明 / Detailed Proof of Hall's Marriage Theorem](#霍尔婚姻定理的详细证明--detailed-proof-of-halls-marriage-theorem)
  - [📚 **概述 / Overview**](#-概述--overview)
  - [📑 **目录 / Table of Contents**](#-目录--table-of-contents)
  - [📐 **定理表述 / Theorem Statement**](#-定理表述--theorem-statement)
    - [定理 5.3.2 (霍尔婚姻定理 / Hall's Marriage Theorem)](#定理-532-霍尔婚姻定理--halls-marriage-theorem)
  - [🔬 **完整证明 / Complete Proof**](#-完整证明--complete-proof)
    - [必要性（$\\Rightarrow$）](#必要性rightarrow)
    - [充分性（$\\Leftarrow$）](#充分性leftarrow)
  - [📚 **历史背景 / Historical Background**](#-历史背景--historical-background)
  - [🔗 **相关链接 / Related Links**](#-相关链接--related-links)

---

## 📐 **定理表述 / Theorem Statement**

### 定理 5.3.2 (霍尔婚姻定理 / Hall's Marriage Theorem)

二分图 $G = (U \cup V, E)$ 具有覆盖 $U$ 的匹配，当且仅当对于 $U$ 的每个子集 $S$，都有：

$$|N(S)| \geq |S|$$

其中 $N(S) = \{v \in V \mid \exists u \in S: (u, v) \in E\}$ 是 $S$ 的邻域。

---

## 🔬 **完整证明 / Complete Proof**

### 必要性（$\Rightarrow$）

如果存在覆盖 $U$ 的匹配 $M$，则对于 $U$ 的任意子集 $S$，$M$ 中的边将 $S$ 中的每个顶点匹配到 $V$ 中的不同顶点。

由于匹配中的边不相邻，$S$ 中的不同顶点匹配到 $V$ 中的不同顶点，因此：
$$|N(S)| \geq |\{v \in V \mid \exists u \in S: (u, v) \in M\}| = |S|$$

---

### 充分性（$\Leftarrow$）

使用归纳法证明。设 $|U| = n$。

**基础情况**：$n = 1$

如果 $|U| = 1$，设 $U = \{u\}$。由于 $|N(\{u\})| \geq |\{u\}| = 1$，$u$ 至少有一个邻居，可以选择一条边作为匹配。

**归纳假设**：假设对于所有 $|U| < n$ 的二分图，如果满足Hall条件，则存在覆盖 $U$ 的匹配。

**归纳步骤**：考虑 $|U| = n$ 的情况。

**情况 1**：存在 $S \subsetneq U$，$S \neq \emptyset$，使得 $|N(S)| = |S|$

- 对于子图 $G[S \cup N(S)]$，由于 $|N(S)| = |S|$，且对于 $S$ 的任意子集都满足Hall条件，根据归纳假设，存在覆盖 $S$ 的匹配 $M_1$
- 对于剩余部分 $G[(U \setminus S) \cup (V \setminus N(S))]$，对于任意 $T \subseteq U \setminus S$：
  - 在 $G$ 中，$|N(T)| \geq |T|$
  - 在剩余图中，$N(T) \subseteq V \setminus N(S)$
  - 如果 $|N(T) \cap (V \setminus N(S))| < |T|$，则：
    $$|N(S \cup T)| = |N(S) \cup N(T)| = |N(S)| + |N(T) \cap (V \setminus N(S))| < |S| + |T| = |S \cup T|$$
    这与Hall条件矛盾
  - 因此，剩余部分也满足Hall条件，根据归纳假设，存在覆盖 $U \setminus S$ 的匹配 $M_2$
- $M_1 \cup M_2$ 是覆盖 $U$ 的匹配

**情况 2**：对于所有非空真子集 $S \subsetneq U$，都有 $|N(S)| > |S|$

- 任意选择一条边 $(u, v) \in E$，其中 $u \in U$，$v \in V$
- 考虑子图 $G' = G - \{u, v\}$（删除顶点 $u$ 和 $v$ 及其关联边）
- 对于任意 $S \subseteq U \setminus \{u\}$：
  - 如果 $S = \emptyset$，则 $|N(S)| = 0 = |S|$
  - 如果 $S \neq \emptyset$，则 $|N(S)| \geq |S| + 1$（因为情况2的假设）
  - 在 $G'$ 中，$|N(S) \setminus \{v\}| \geq |N(S)| - 1 \geq |S|$
  - 因此，$G'$ 满足Hall条件
- 根据归纳假设，$G'$ 中存在覆盖 $U \setminus \{u\}$ 的匹配 $M'$
- $M' \cup \{(u, v)\}$ 是覆盖 $U$ 的匹配

**结论**：

在两种情况下，都存在覆盖 $U$ 的匹配。由归纳法，充分性得证。$\square$

---

## 📚 **历史背景 / Historical Background**

- **1935年**：Philip Hall 首次证明了该定理
- 是组合数学和图论中的经典结果
- 广泛应用于匹配问题、调度问题和资源分配

---

## 🔗 **相关链接 / Related Links**

- [图的匹配理论目录](../README.md)
- [König定理的完整证明](01-König定理的完整证明.md)
- [最大匹配算法](03-最大匹配算法.md)
- [加权匹配算法](04-加权匹配算法.md)
- [图论高级理论主目录](../../README.md)

---

**文档版本**: v1.0
**创建时间**: 2025年1月
**状态**: ✅ **已完成**
