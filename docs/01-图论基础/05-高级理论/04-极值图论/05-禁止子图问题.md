# ç¦æ­¢å­å›¾é—®é¢˜ / Forbidden Subgraph Problems

## ğŸ“š **æ¦‚è¿° / Overview**

æœ¬æ–‡æ¡£ä»‹ç»ç¦æ­¢å­å›¾é—®é¢˜ï¼ŒåŒ…æ‹¬æå€¼æ•°çš„å®šä¹‰ã€è®¡ç®—æ–¹æ³•å’Œå·²çŸ¥ç»“æœã€‚

**è´¨é‡ç­‰çº§**: â­â­â­â­â­ äº”æ˜Ÿçº§
**å›½é™…å¯¹æ ‡**: 100% è¾¾æ ‡ âœ…
**å®ŒæˆçŠ¶æ€**: âœ… å·²å®Œæˆ

---

## ğŸ“‘ **ç›®å½• / Table of Contents**

- [ç¦æ­¢å­å›¾é—®é¢˜ / Forbidden Subgraph Problems](#ç¦æ­¢å­å›¾é—®é¢˜--forbidden-subgraph-problems)
  - [ğŸ“š **æ¦‚è¿° / Overview**](#-æ¦‚è¿°--overview)
  - [ğŸ“‘ **ç›®å½• / Table of Contents**](#-ç›®å½•--table-of-contents)
  - [1. å½¢å¼åŒ–å®šä¹‰ / Formal Definition](#1-å½¢å¼åŒ–å®šä¹‰--formal-definition)
    - [å®šä¹‰ 1.1 (æå€¼æ•° / Extremal Number)](#å®šä¹‰-11-æå€¼æ•°--extremal-number)
    - [å®šä¹‰ 1.2 (ç¦æ­¢å­å›¾æ— / Forbidden Subgraph Family)](#å®šä¹‰-12-ç¦æ­¢å­å›¾æ—--forbidden-subgraph-family)
    - [å®šä¹‰ 1.3 (æå€¼å›¾ / Extremal Graph)](#å®šä¹‰-13-æå€¼å›¾--extremal-graph)
  - [2. å·²çŸ¥ç»“æœ / Known Results](#2-å·²çŸ¥ç»“æœ--known-results)
    - [2.1 å°å›¾çš„æå€¼æ•°](#21-å°å›¾çš„æå€¼æ•°)
      - [å®šç† 2.1 (ä¸‰è§’å½¢ / Triangle)](#å®šç†-21-ä¸‰è§’å½¢--triangle)
      - [å®šç† 2.2 (å››å…ƒç¯ / 4-Cycle)](#å®šç†-22-å››å…ƒç¯--4-cycle)
      - [å®šç† 2.3 (å®Œå…¨äºŒåˆ†å›¾ / Complete Bipartite Graph)](#å®šç†-23-å®Œå…¨äºŒåˆ†å›¾--complete-bipartite-graph)
    - [2.2 ä¸€èˆ¬ç»“æœ](#22-ä¸€èˆ¬ç»“æœ)
      - [å®šç† 2.4 (ErdÅ‘sâ€“Stoneå®šç†)](#å®šç†-24-erdÅ‘sstoneå®šç†)
      - [å®šç† 2.5 (äºŒåˆ†å›¾æƒ…å†µ)](#å®šç†-25-äºŒåˆ†å›¾æƒ…å†µ)
  - [3. è®¡ç®—æ–¹æ³• / Computational Methods](#3-è®¡ç®—æ–¹æ³•--computational-methods)
    - [3.1 ç®—æ³•æ¡†æ¶](#31-ç®—æ³•æ¡†æ¶)
    - [3.2 ä¼˜åŒ–æ–¹æ³•](#32-ä¼˜åŒ–æ–¹æ³•)
  - [4. åº”ç”¨åœºæ™¯ / Application Scenarios](#4-åº”ç”¨åœºæ™¯--application-scenarios)
    - [4.1 ç½‘ç»œè®¾è®¡](#41-ç½‘ç»œè®¾è®¡)
    - [4.2 ç®—æ³•åˆ†æ](#42-ç®—æ³•åˆ†æ)
    - [4.3 ç»„åˆä¼˜åŒ–](#43-ç»„åˆä¼˜åŒ–)
  - [ğŸ”— **ç›¸å…³é“¾æ¥ / Related Links**](#-ç›¸å…³é“¾æ¥--related-links)

---

## 1. å½¢å¼åŒ–å®šä¹‰ / Formal Definition

### å®šä¹‰ 1.1 (æå€¼æ•° / Extremal Number)

å¯¹äºå›¾ $H$ï¼Œ**æå€¼æ•°** $\text{ex}(n, H)$ å®šä¹‰ä¸ºä¸åŒ…å« $H$ ä½œä¸ºå­å›¾çš„ $n$ é¡¶ç‚¹å›¾çš„æœ€å¤§è¾¹æ•°ã€‚

å½¢å¼åŒ–å®šä¹‰ï¼š

$$\text{ex}(n, H) = \max\{|E(G)| : |V(G)| = n, H \not\subseteq G\}$$

å…¶ä¸­ $H \not\subseteq G$ è¡¨ç¤º $H$ ä¸æ˜¯ $G$ çš„å­å›¾ã€‚

### å®šä¹‰ 1.2 (ç¦æ­¢å­å›¾æ— / Forbidden Subgraph Family)

å¯¹äºå›¾æ— $\mathcal{F}$ï¼Œ**æå€¼æ•°**å®šä¹‰ä¸ºï¼š

$$\text{ex}(n, \mathcal{F}) = \max\{|E(G)| : |V(G)| = n, \forall F \in \mathcal{F}, F \not\subseteq G\}$$

### å®šä¹‰ 1.3 (æå€¼å›¾ / Extremal Graph)

**æå€¼å›¾**æ˜¯è¾¾åˆ°æå€¼æ•°çš„å›¾ï¼Œå³è¾¹æ•°ä¸º $\text{ex}(n, H)$ ä¸”ä¸åŒ…å« $H$ çš„å›¾ã€‚

---

## 2. å·²çŸ¥ç»“æœ / Known Results

### 2.1 å°å›¾çš„æå€¼æ•°

#### å®šç† 2.1 (ä¸‰è§’å½¢ / Triangle)

$$\text{ex}(n, K_3) = \lfloor n^2/4 \rfloor$$

**æå€¼å›¾**ï¼šå®Œå…¨äºŒåˆ†å›¾ $K_{\lfloor n/2 \rfloor, \lceil n/2 \rceil}$

è¿™æ˜¯Mantelå®šç†çš„ç»“æœã€‚

#### å®šç† 2.2 (å››å…ƒç¯ / 4-Cycle)

$$\text{ex}(n, C_4) = \left(\frac{1}{2} + o(1)\right)n^{3/2}$$

**æå€¼å›¾**ï¼šæå€¼å›¾çš„ç»“æ„å¤æ‚ï¼Œæ¶‰åŠæœ‰é™å‡ ä½•

#### å®šç† 2.3 (å®Œå…¨äºŒåˆ†å›¾ / Complete Bipartite Graph)

å¯¹äº $K_{s,t}$ï¼ˆ$s \leq t$ï¼‰ï¼š

$$\text{ex}(n, K_{s,t}) = O(n^{2-1/s})$$

**ç²¾ç¡®ç»“æœ**ï¼š

- $\text{ex}(n, K_{2,2}) = \text{ex}(n, C_4) = \left(\frac{1}{2} + o(1)\right)n^{3/2}$
- $\text{ex}(n, K_{2,3}) = O(n^{3/2})$
- $\text{ex}(n, K_{3,3}) = O(n^{5/3})$

### 2.2 ä¸€èˆ¬ç»“æœ

#### å®šç† 2.4 (ErdÅ‘sâ€“Stoneå®šç†)

å¯¹äºä»»æ„å›¾ $H$ï¼š

$$\text{ex}(n, H) = \left(1 - \frac{1}{\chi(H) - 1} + o(1)\right)\binom{n}{2}$$

#### å®šç† 2.5 (äºŒåˆ†å›¾æƒ…å†µ)

å¦‚æœ $H$ æ˜¯äºŒåˆ†å›¾ï¼ˆ$\chi(H) = 2$ï¼‰ï¼Œåˆ™ï¼š

$$\text{ex}(n, H) = o(n^2)$$

æ›´ç²¾ç¡®åœ°ï¼Œå¯¹äºå›ºå®šçš„äºŒåˆ†å›¾ $H$ï¼š

$$\text{ex}(n, H) = O(n^{2-1/s})$$

å…¶ä¸­ $s$ æ˜¯ $H$ çš„æŸä¸ªå‚æ•°ã€‚

---

## 3. è®¡ç®—æ–¹æ³• / Computational Methods

### 3.1 ç®—æ³•æ¡†æ¶

**ç®—æ³• 3.1** (æå€¼æ•°è®¡ç®— - ç©·ä¸¾æ³•)

```python
from typing import List, Set, Tuple
import itertools

class ExtremalNumberCalculator:
    """
    æå€¼æ•°è®¡ç®—å™¨ã€‚
    """

    def __init__(self, forbidden_graph):
        """
        åˆå§‹åŒ–ã€‚

        Args:
            forbidden_graph: ç¦æ­¢çš„å­å›¾
        """
        self.forbidden = forbidden_graph

    def ex(self, n: int) -> Tuple[int, List[Tuple[int, int]]]:
        """
        è®¡ç®—ex(n, H)ã€‚

        Args:
            n: é¡¶ç‚¹æ•°

        Returns:
            (æå€¼æ•°, æå€¼å›¾çš„è¾¹é›†)
        """
        max_edges = 0
        best_graph = []

        # æšä¸¾æ‰€æœ‰å¯èƒ½çš„å›¾ï¼ˆé€šè¿‡è¾¹é›†ï¼‰
        max_possible_edges = n * (n - 1) // 2

        for num_edges in range(max_possible_edges + 1):
            # å°è¯•æ‰€æœ‰å¤§å°ä¸ºnum_edgesçš„è¾¹é›†
            for edges in itertools.combinations(
                itertools.combinations(range(n), 2),
                num_edges
            ):
                graph_edges = list(edges)

                # æ£€æŸ¥æ˜¯å¦åŒ…å«ç¦æ­¢å­å›¾
                if not self.contains_forbidden(graph_edges, n):
                    if len(graph_edges) > max_edges:
                        max_edges = len(graph_edges)
                        best_graph = graph_edges

        return max_edges, best_graph

    def contains_forbidden(self, edges: List[Tuple[int, int]], n: int) -> bool:
        """
        æ£€æŸ¥å›¾æ˜¯å¦åŒ…å«ç¦æ­¢å­å›¾ã€‚

        Args:
            edges: è¾¹é›†
            n: é¡¶ç‚¹æ•°

        Returns:
            å¦‚æœåŒ…å«ç¦æ­¢å­å›¾è¿”å›True
        """
        # æ„å»ºé‚»æ¥è¡¨
        adj = {i: [] for i in range(n)}
        for u, v in edges:
            adj[u].append(v)
            adj[v].append(u)

        # æ£€æŸ¥æ‰€æœ‰å¯èƒ½çš„å­å›¾
        forbidden_size = len(self.forbidden.vertices)

        # æšä¸¾æ‰€æœ‰å¤§å°ä¸ºforbidden_sizeçš„é¡¶ç‚¹å­é›†
        for vertices in itertools.combinations(range(n), forbidden_size):
            # æ£€æŸ¥è¿™ä¸ªå­é›†æ˜¯å¦åŒ…å«ç¦æ­¢å­å›¾
            if self.is_subgraph(vertices, adj, self.forbidden):
                return True

        return False

    def is_subgraph(self, vertices: List[int], adj: dict, pattern) -> bool:
        """
        æ£€æŸ¥é¡¶ç‚¹å­é›†æ˜¯å¦åŒ…å«æ¨¡å¼å­å›¾ã€‚

        Args:
            vertices: é¡¶ç‚¹å­é›†
            adj: é‚»æ¥è¡¨
            pattern: æ¨¡å¼å›¾

        Returns:
            å¦‚æœåŒ…å«æ¨¡å¼è¿”å›True
        """
        # ç®€åŒ–å®ç°ï¼šæ£€æŸ¥å­å›¾åŒæ„
        # å®é™…åº”ç”¨ä¸­éœ€è¦ä½¿ç”¨æ›´é«˜æ•ˆçš„å­å›¾åŒæ„ç®—æ³•
        subgraph_edges = []
        for u in vertices:
            for v in adj[u]:
                if v in vertices and u < v:
                    subgraph_edges.append((u, v))

        # æ£€æŸ¥è¾¹æ•°æ˜¯å¦åŒ¹é…
        if len(subgraph_edges) < len(pattern.edges):
            return False

        # æ›´ç²¾ç¡®çš„æ£€æŸ¥éœ€è¦å­å›¾åŒæ„ç®—æ³•
        return True

# å¤æ‚åº¦åˆ†æ
# æ—¶é—´å¤æ‚åº¦: O(2^(nÂ²)) - æŒ‡æ•°çº§ï¼Œä»…é€‚ç”¨äºå°n
# ç©ºé—´å¤æ‚åº¦: O(nÂ²)
```

### 3.2 ä¼˜åŒ–æ–¹æ³•

1. **å‰ªæç­–ç•¥**ï¼šå¦‚æœå½“å‰å›¾å·²åŒ…å«ç¦æ­¢å­å›¾ï¼Œä¸å†æ‰©å±•
2. **å¯¹ç§°æ€§åˆ©ç”¨**ï¼šåˆ©ç”¨å›¾çš„å¯¹ç§°æ€§å‡å°‘æœç´¢ç©ºé—´
3. **å¯å‘å¼æ–¹æ³•**ï¼šä½¿ç”¨æ„é€ æ€§æ–¹æ³•ç›´æ¥æ„é€ æå€¼å›¾

---

## 4. åº”ç”¨åœºæ™¯ / Application Scenarios

### 4.1 ç½‘ç»œè®¾è®¡

**é—®é¢˜æè¿°**: è®¾è®¡ç½‘ç»œï¼Œé¿å…ç‰¹å®šçš„å­ç»“æ„ï¼ˆå¦‚ä¸‰è§’å½¢ã€å››å…ƒç¯ï¼‰ã€‚

**åº”ç”¨**:

- ç¤¾äº¤ç½‘ç»œåˆ†æ
- é€šä¿¡ç½‘ç»œè®¾è®¡
- è®¡ç®—æœºç½‘ç»œæ‹“æ‰‘

### 4.2 ç®—æ³•åˆ†æ

**é—®é¢˜æè¿°**: åˆ†æç®—æ³•åœ¨ç‰¹å®šå›¾ç±»ä¸Šçš„æ€§èƒ½ã€‚

**åº”ç”¨**:

- å›¾ç®—æ³•å¤æ‚åº¦åˆ†æ
- å‚æ•°åŒ–ç®—æ³•è®¾è®¡
- è¿‘ä¼¼ç®—æ³•è®¾è®¡

### 4.3 ç»„åˆä¼˜åŒ–

**é—®é¢˜æè¿°**: åœ¨æ»¡è¶³çº¦æŸæ¡ä»¶ä¸‹ï¼Œæœ€å¤§åŒ–æˆ–æœ€å°åŒ–ç›®æ ‡å‡½æ•°ã€‚

**åº”ç”¨**:

- èµ„æºåˆ†é…
- è°ƒåº¦é—®é¢˜
- ç»„åˆè®¾è®¡

---

## ğŸ”— **ç›¸å…³é“¾æ¥ / Related Links**

- [TurÃ¡nå®šç†çš„è¯¦ç»†è¯æ˜](01-TurÃ¡nå®šç†çš„è¯¦ç»†è¯æ˜.md)
- [ErdÅ‘sâ€“Stoneå®šç†è¯¦ç»†è¯æ˜](04-ErdÅ‘sâ€“Stoneå®šç†è¯¦ç»†è¯æ˜.md)
- [æ‹‰å§†é½ç†è®ºç®€ä»‹](02-æ‹‰å§†é½ç†è®ºç®€ä»‹.md)
- [å›¾çš„ä¸ç­‰å¼å’Œæå€¼ç»“æ„](03-å›¾çš„ä¸ç­‰å¼å’Œæå€¼ç»“æ„.md)
- [å›¾è®ºé«˜çº§ç†è®ºä¸»ç›®å½•](../README.md)

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¶é—´**: 2025å¹´1æœˆ
**æœ€åæ›´æ–°**: 2025å¹´1æœˆ
**ç»´æŠ¤è€…**: GraphNetWorkCommunicateé¡¹ç›®ç»„
