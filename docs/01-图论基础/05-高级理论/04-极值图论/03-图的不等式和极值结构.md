# å›¾çš„ä¸ç­‰å¼å’Œæå€¼ç»“æ„ / Graph Inequalities and Extremal Structures

## ğŸ“š **æ¦‚è¿° / Overview**

æœ¬æ–‡æ¡£ä»‹ç»å›¾è®ºä¸­çš„åŸºæœ¬ä¸ç­‰å¼å’Œæå€¼å›¾çš„ç»“æ„ï¼ŒåŒ…æ‹¬æ¡æ‰‹å¼•ç†ã€Mantelå®šç†ã€ErdÅ‘sâ€“Stoneå®šç†ç­‰ã€‚

---

## ğŸ“‘ **ç›®å½• / Table of Contents**

- [å›¾çš„ä¸ç­‰å¼å’Œæå€¼ç»“æ„ / Graph Inequalities and Extremal Structures](#å›¾çš„ä¸ç­‰å¼å’Œæå€¼ç»“æ„--graph-inequalities-and-extremal-structures)
  - [ğŸ“š **æ¦‚è¿° / Overview**](#-æ¦‚è¿°--overview)
  - [ğŸ“‘ **ç›®å½• / Table of Contents**](#-ç›®å½•--table-of-contents)
  - [ğŸ“ **åŸºæœ¬ä¸ç­‰å¼ / Basic Inequalities**](#-åŸºæœ¬ä¸ç­‰å¼--basic-inequalities)
    - [å®šç† 5.4.4 (æ¡æ‰‹å¼•ç† / Handshaking Lemma)](#å®šç†-544-æ¡æ‰‹å¼•ç†--handshaking-lemma)
    - [æ¨è®º 5.4.1](#æ¨è®º-541)
    - [å®šç† 5.4.5 (Mantelå®šç†)](#å®šç†-545-mantelå®šç†)
    - [å®šç† 5.4.6 (ErdÅ‘sâ€“Stoneå®šç†)](#å®šç†-546-erdÅ‘sstoneå®šç†)
  - [ğŸ”§ **æå€¼å›¾çš„ç»“æ„ / Structure of Extremal Graphs**](#-æå€¼å›¾çš„ç»“æ„--structure-of-extremal-graphs)
    - [å®šä¹‰ 5.4.3 (æå€¼å›¾ / Extremal Graph)](#å®šä¹‰-543-æå€¼å›¾--extremal-graph)
    - [å®šç† 5.4.7 (æå€¼å›¾çš„ç¨³å®šæ€§)](#å®šç†-547-æå€¼å›¾çš„ç¨³å®šæ€§)
  - [ğŸ’» **ç®—æ³•å®ç° / Algorithm Implementation**](#-ç®—æ³•å®ç°--algorithm-implementation)
  - [ğŸ“Š **å¤æ‚åº¦åˆ†æ / Complexity Analysis**](#-å¤æ‚åº¦åˆ†æ--complexity-analysis)
  - [ğŸ”— **ç›¸å…³é“¾æ¥ / Related Links**](#-ç›¸å…³é“¾æ¥--related-links)

---

## ğŸ“ **åŸºæœ¬ä¸ç­‰å¼ / Basic Inequalities**

### å®šç† 5.4.4 (æ¡æ‰‹å¼•ç† / Handshaking Lemma)

å¯¹äºä»»æ„å›¾ $G = (V, E)$ï¼š
$$\sum_{v \in V} d(v) = 2|E|$$

å…¶ä¸­ $d(v)$ æ˜¯é¡¶ç‚¹ $v$ çš„åº¦æ•°ã€‚

---

### æ¨è®º 5.4.1

- å›¾ä¸­å¥‡åº¦æ•°é¡¶ç‚¹çš„æ•°é‡ä¸ºå¶æ•°
- å¹³å‡åº¦æ•°ï¼š$\bar{d} = \frac{2|E|}{|V|}$

---

### å®šç† 5.4.5 (Mantelå®šç†)

åœ¨ $n$ ä¸ªé¡¶ç‚¹ä¸”ä¸åŒ…å«ä¸‰è§’å½¢çš„å›¾ä¸­ï¼Œæœ€å¤§è¾¹æ•°ä¸º $\lfloor n^2/4 \rfloor$ã€‚

è¿™æ˜¯ TurÃ¡n å®šç†åœ¨ $r = 2$ æ—¶çš„ç‰¹æ®Šæƒ…å†µã€‚

---

### å®šç† 5.4.6 (ErdÅ‘sâ€“Stoneå®šç†)

å¯¹äºä»»æ„å›¾ $H$ å’Œä»»æ„ $\varepsilon > 0$ï¼Œå­˜åœ¨ $n_0$ï¼Œä½¿å¾—å¯¹äºæ‰€æœ‰ $n \geq n_0$ï¼Œä¸åŒ…å« $H$ ä½œä¸ºå­å›¾çš„ $n$ é¡¶ç‚¹å›¾çš„æœ€å¤§è¾¹æ•°ä¸ºï¼š
$$\text{ex}(n, H) = \left(1 - \frac{1}{\chi(H) - 1} + o(1)\right)\binom{n}{2}$$

å…¶ä¸­ $\chi(H)$ æ˜¯ $H$ çš„è‰²æ•°ã€‚

è¿™æ˜¯ TurÃ¡n å®šç†çš„æ¨å¹¿ã€‚

---

## ğŸ”§ **æå€¼å›¾çš„ç»“æ„ / Structure of Extremal Graphs**

### å®šä¹‰ 5.4.3 (æå€¼å›¾ / Extremal Graph)

å¯¹äºå›¾æ— $\mathcal{F}$ï¼Œ**æå€¼å›¾**æ˜¯ä¸åŒ…å« $\mathcal{F}$ ä¸­ä»»ä½•å›¾ä½œä¸ºå­å›¾ï¼Œä¸”è¾¹æ•°è¾¾åˆ°æœ€å¤§çš„å›¾ã€‚

---

### å®šç† 5.4.7 (æå€¼å›¾çš„ç¨³å®šæ€§)

åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œæå€¼å›¾åœ¨ç»“æ„ä¸Š"æ¥è¿‘"TurÃ¡nå›¾ã€‚å³ï¼Œå¦‚æœä¸€ä¸ªå›¾ä¸åŒ…å«æŸä¸ªç¦æ­¢å­å›¾ä¸”è¾¹æ•°æ¥è¿‘æå€¼ï¼Œåˆ™å®ƒå¯ä»¥é€šè¿‡ä¿®æ”¹å°‘é‡è¾¹å˜æˆTurÃ¡nå›¾ã€‚

---

## ğŸ’» **ç®—æ³•å®ç° / Algorithm Implementation**

```python
from typing import Dict, List, Set, Tuple
from collections import defaultdict
import math

class ExtremalGraph:
    """
    æå€¼å›¾è®ºçš„ç®—æ³•å®ç°ã€‚
    """

    def __init__(self, n: int):
        """
        åˆå§‹åŒ–ã€‚

        Args:
            n: é¡¶ç‚¹æ•°
        """
        self.n = n
        self.vertices = list(range(n))

    def turan_graph(self, r: int) -> Dict[int, List[int]]:
        """
        æ„é€ réƒ¨TurÃ¡nå›¾ã€‚

        Args:
            r: éƒ¨æ•°

        Returns:
            é‚»æ¥è¡¨è¡¨ç¤ºçš„å›¾
        """
        graph: Dict[int, List[int]] = {i: [] for i in range(self.n)}

        # è®¡ç®—æ¯ä¸ªéƒ¨çš„å¤§å°
        q = self.n // r
        s = self.n % r

        # æ„é€ réƒ¨å›¾
        part_sizes = [q + 1] * s + [q] * (r - s)

        # ä¸ºæ¯ä¸ªéƒ¨åˆ†é…é¡¶ç‚¹
        parts: List[List[int]] = []
        idx = 0
        for size in part_sizes:
            parts.append(list(range(idx, idx + size)))
            idx += size

        # åœ¨ä¸åŒéƒ¨ä¹‹é—´æ·»åŠ æ‰€æœ‰è¾¹
        for i in range(r):
            for j in range(i + 1, r):
                for u in parts[i]:
                    for v in parts[j]:
                        graph[u].append(v)
                        graph[v].append(u)

        return graph

    def turan_number(self, n: int, r: int) -> int:
        """
        è®¡ç®—TurÃ¡næ•° t_r(n)ã€‚

        Args:
            n: é¡¶ç‚¹æ•°
            r: ç¦æ­¢çš„å›¢çš„å¤§å°å‡1

        Returns:
            æœ€å¤§è¾¹æ•°
        """
        q = n // r
        s = n % r

        # è®¡ç®—è¾¹æ•°
        total_edges = n * (n - 1) // 2

        # å‡å»éƒ¨å†…çš„è¾¹
        part_sizes = [q + 1] * s + [q] * (r - s)
        intra_edges = sum(size * (size - 1) // 2 for size in part_sizes)

        return total_edges - intra_edges

    def ramsey_upper_bound(self, k: int, l: int) -> int:
        """
        è®¡ç®—æ‹‰å§†é½æ•° R(k, l) çš„ä¸Šç•Œã€‚

        Args:
            k: ç¬¬ä¸€ä¸ªå‚æ•°
            l: ç¬¬äºŒä¸ªå‚æ•°

        Returns:
            ä¸Šç•Œå€¼
        """
        from math import comb
        return comb(k + l - 2, k - 1)

    def mantel_theorem(self, n: int) -> int:
        """
        è®¡ç®—ä¸åŒ…å«ä¸‰è§’å½¢çš„å›¾çš„æœ€å¤§è¾¹æ•°ï¼ˆMantelå®šç†ï¼‰ã€‚

        Args:
            n: é¡¶ç‚¹æ•°

        Returns:
            æœ€å¤§è¾¹æ•°
        """
        return (n * n) // 4
```

---

## ğŸ“Š **å¤æ‚åº¦åˆ†æ / Complexity Analysis**

- `turan_graph`: $O(n^2)$ - éœ€è¦æ·»åŠ æ‰€æœ‰éƒ¨é—´è¾¹
- `turan_number`: $O(r)$ - è®¡ç®—éƒ¨å¤§å°
- `ramsey_upper_bound`: $O(k+l)$ - ç»„åˆæ•°è®¡ç®—
- `mantel_theorem`: $O(1)$ - ç›´æ¥è®¡ç®—

---

## ğŸ”— **ç›¸å…³é“¾æ¥ / Related Links**

- [æå€¼å›¾è®ºç›®å½•](../README.md)
- [TurÃ¡nå®šç†çš„è¯¦ç»†è¯æ˜](01-TurÃ¡nå®šç†çš„è¯¦ç»†è¯æ˜.md)
- [æ‹‰å§†é½ç†è®ºç®€ä»‹](02-æ‹‰å§†é½ç†è®ºç®€ä»‹.md)
- [å›¾è®ºé«˜çº§ç†è®ºä¸»ç›®å½•](../../README.md)

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¶é—´**: 2025å¹´1æœˆ
**çŠ¶æ€**: âœ… **å·²å®Œæˆ**
